
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tutorial 4: Public Opinion on the Climate Emergency and Why it Matters &#8212; Climatematch Academy: Computational Tools for Climate Science</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/togglebutton.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="shortcut icon" href="../../../_static/cma-logo-square-4xp.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Outro" href="W2D3_Outro.html" />
    <link rel="prev" title="Tutorial 3: IAMs and SSPs" href="W2D3_Tutorial3.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/cma-logo-square-4xp.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Climatematch Academy: Computational Tools for Climate Science</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Introduction
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../Schedule/schedule_intro.html">
   Schedule
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Schedule/daily_schedules.html">
     General Schedule
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Schedule/shared_calendars.html">
     Shared calendars
    </a>
   </li>
  </ul>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../TechnicalHelp/tech_intro.html">
   Technical Help
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../TechnicalHelp/Jupyterbook.html">
     Using jupyterbook
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../TechnicalHelp/Tutorial_jupyterhub.html">
       <strong>
        Using JupyterHub
       </strong>
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../TechnicalHelp/Tutorial_colab.html">
       Using Google Colab
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../TechnicalHelp/Tutorial_kaggle.html">
       Using Kaggle
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../TechnicalHelp/Discord.html">
     Using discord
    </a>
   </li>
  </ul>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../TechnicalHelp/Links_Policy.html">
   Quick links and policies
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../prereqs/ClimateScience.html">
   Prerequisites and preparatory materials for Computational Tools for Climate Science
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Fundamentals
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../W1D1_ClimateSystemOverview/chapter_title.html">
   Climate System Overview (W1D1)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D1_ClimateSystemOverview/student/W1D1_Intro.html">
     Intro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D1_ClimateSystemOverview/student/W1D1_Tutorial1.html">
     Tutorial 1: Creating DataArrays and Datasets to Assess Global Climate Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D1_ClimateSystemOverview/student/W1D1_Tutorial2.html">
     Tutorial 2: Selection, Interpolation and Slicing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D1_ClimateSystemOverview/student/W1D1_Tutorial3.html">
     Tutorial 3: Opening and Plotting netCDF Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D1_ClimateSystemOverview/student/W1D1_Tutorial4.html">
     Tutorial 4: Arithmetic and Aggregation Methods
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D1_ClimateSystemOverview/student/W1D1_Tutorial5.html">
     Tutorial 5: Xarray Data Analysis and Climatology
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D1_ClimateSystemOverview/student/W1D1_Tutorial6.html">
     Tutorial 6: Compute and Plot Temperature Anomalies
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D1_ClimateSystemOverview/student/W1D1_Tutorial7.html">
     Tutorial 7: Other Computational Tools in Xarray
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D1_ClimateSystemOverview/student/W1D1_Tutorial8.html">
     Tutorial 8: Masking with One Condition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D1_ClimateSystemOverview/student/W1D1_Tutorial9.html">
     Tutorial 9: Masking with Multiple Conditions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D1_ClimateSystemOverview/student/W1D1_Outro.html">
     Outro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D1_ClimateSystemOverview/further_reading.html">
     Suggested Further Reading
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D1_ClimateSystemOverview/student/W1D1_DaySummary.html">
     Day Summary
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../Projects_GoodResearchPractices/chapter_title.html">
   Good Research Practices (Projects)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Projects_GoodResearchPractices/student/Projects_Intro.html">
     Intro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Projects_GoodResearchPractices/student/Projects_Tutorial1.html">
     Tutorial 1: Finding a Phenomenon and Asking a Question About It
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Projects_GoodResearchPractices/student/Projects_Tutorial2.html">
     Tutorial 2: Doing a Literature Review
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Projects_GoodResearchPractices/student/Projects_Tutorial3.html">
     Tutorial 3: Identifying the Basic Ingredients
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Projects_GoodResearchPractices/student/Projects_Tutorial4.html">
     Tutorial 4: Formulating a Hypothesis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Projects_GoodResearchPractices/student/Projects_Tutorial5.html">
     Tutorial 5: Drafting the Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Projects_GoodResearchPractices/student/Projects_Tutorial6.html">
     Tutorial 6: Implementing the Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Projects_GoodResearchPractices/student/Projects_Tutorial7.html">
     Tutorial 7: Interpreting the Results
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Projects_GoodResearchPractices/student/Projects_Tutorial8.html">
     Tutorial 8: Communicating Your Conclusions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Projects_GoodResearchPractices/student/Projects_Outro.html">
     Outro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Projects_GoodResearchPractices/student/Projects_DaySummary.html">
     Day Summary
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Climate Data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../W1D2_StateoftheClimateOceanandAtmosphereReanalysis/chapter_title.html">
   State of the Climate Ocean and Atmosphere Reanalysis (W1D2)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D2_StateoftheClimateOceanandAtmosphereReanalysis/student/W1D2_Intro.html">
     Intro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D2_StateoftheClimateOceanandAtmosphereReanalysis/student/W1D2_Tutorial1.html">
     Tutorial 1: Calculating ENSO with Xarray
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D2_StateoftheClimateOceanandAtmosphereReanalysis/student/W1D2_Tutorial2.html">
     <strong>
      Tutorial 2: A Lot of Weather Makes Climate - Exploring the ERA5 Reanalysis
     </strong>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D2_StateoftheClimateOceanandAtmosphereReanalysis/student/W1D2_Tutorial3.html">
     Tutorial 3: Atmospheric  Circulation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D2_StateoftheClimateOceanandAtmosphereReanalysis/student/W1D2_Tutorial4.html">
     Tutorial 4: Oceanic Wind-driven Circulation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D2_StateoftheClimateOceanandAtmosphereReanalysis/student/W1D2_Tutorial5.html">
     Tutorial 5: Thermohaline Circulation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D2_StateoftheClimateOceanandAtmosphereReanalysis/student/W1D2_Tutorial6.html">
     Tutorial 6: Ocean Heat Content
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D2_StateoftheClimateOceanandAtmosphereReanalysis/student/W1D2_Outro.html">
     Outro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D2_StateoftheClimateOceanandAtmosphereReanalysis/further_reading.html">
     Suggested Further Reading
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D2_StateoftheClimateOceanandAtmosphereReanalysis/student/W1D2_DaySummary.html">
     Day Summary
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../W1D3_RemoteSensingLandOceanandAtmosphere/chapter_title.html">
   Remote Sensing Land Ocean and Atmosphere (W1D3)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D3_RemoteSensingLandOceanandAtmosphere/student/W1D3_Intro.html">
     Intro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D3_RemoteSensingLandOceanandAtmosphere/student/W1D3_Tutorial1.html">
     Tutorial 1: Introduction to Remote Sensing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D3_RemoteSensingLandOceanandAtmosphere/student/W1D3_Tutorial2.html">
     Tutorial 2: Exploring Satellite Climate Data Records
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D3_RemoteSensingLandOceanandAtmosphere/student/W1D3_Tutorial3.html">
     Tutorial 3: Visualizing Satellite CDR - Global Vegetation Mapping
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D3_RemoteSensingLandOceanandAtmosphere/student/W1D3_Tutorial4.html">
     Tutorial 4: Understanding Climatology Through Precipitation Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D3_RemoteSensingLandOceanandAtmosphere/student/W1D3_Tutorial5.html">
     Tutorial 5: Calculating Anomalies Using Precipitation Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D3_RemoteSensingLandOceanandAtmosphere/student/W1D3_Tutorial6.html">
     Tutorial 6: Large Scale Climate Variability - ENSO
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D3_RemoteSensingLandOceanandAtmosphere/student/W1D3_Tutorial7.html">
     Tutorial 7: Impact of Climate Variability - Precipitation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D3_RemoteSensingLandOceanandAtmosphere/student/W1D3_Tutorial8.html">
     Tutorial 8: Comparing Satellite Products With In Situ Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D3_RemoteSensingLandOceanandAtmosphere/student/W1D3_Outro.html">
     Outro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D3_RemoteSensingLandOceanandAtmosphere/further_reading.html">
     Suggested Further Reading
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D3_RemoteSensingLandOceanandAtmosphere/student/W1D3_DaySummary.html">
     Day Summary
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../W1D4_Paleoclimate/chapter_title.html">
   Paleoclimate (W1D4)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D4_Paleoclimate/student/W1D4_Intro.html">
     Intro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D4_Paleoclimate/student/W1D4_Tutorial1.html">
     Tutorial 1: Paleoclimate Proxies
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D4_Paleoclimate/student/W1D4_Tutorial2.html">
     Tutorial 2: Reconstructing Past Changes in Ocean Climate
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D4_Paleoclimate/student/W1D4_Tutorial3.html">
     Tutorial 3: Reconstructing Past Changes in Terrestrial Climate
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D4_Paleoclimate/student/W1D4_Tutorial4.html">
     Tutorial 4: Reconstructing Past Changes in Atmospheric Climate
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D4_Paleoclimate/student/W1D4_Tutorial5.html">
     Tutorial 5: Paleoclimate Data Analysis Tools
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D4_Paleoclimate/student/W1D4_Tutorial6.html">
     Tutorial 6: Spectral Analysis of Paleoclimate Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D4_Paleoclimate/student/W1D4_Tutorial7.html">
     Tutorial 7: Assessing Climate Forcings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D4_Paleoclimate/student/W1D4_Tutorial8.html">
     Tutorial 8: Paleoclimate Models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D4_Paleoclimate/student/W1D4_Tutorial9.html">
     Tutorial 9: Paleoclimate Reanalysis Products
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D4_Paleoclimate/student/W1D4_Outro.html">
     Outro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D4_Paleoclimate/further_reading.html">
     Suggested Further Reading
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D4_Paleoclimate/student/W1D4_DaySummary.html">
     Day Summary
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Climate Future
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../W1D5_ClimateModeling/chapter_title.html">
   Climate Modeling (W1D5)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D5_ClimateModeling/student/W1D5_Intro.html">
     Intro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D5_ClimateModeling/student/W1D5_Tutorial1.html">
     Tutorial 1 : A Simple Greenhouse Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D5_ClimateModeling/student/W1D5_Tutorial2.html">
     Tutorial 2 : Energy Balance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D5_ClimateModeling/student/W1D5_Tutorial3.html">
     <strong>
      Tutorial 3 : A Zero-Dimensional Energy Balance Model
     </strong>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D5_ClimateModeling/student/W1D5_Tutorial4.html">
     Tutorial 4: Climate Feedbacks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D5_ClimateModeling/student/W1D5_Tutorial5.html">
     Tutorial 5: Vertical Structure of the Atmosphere
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D5_ClimateModeling/student/W1D5_Tutorial6.html">
     Tutorial 6: Radiative-Convective Equilibrium
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D5_ClimateModeling/student/W1D5_Tutorial7.html">
     Tutorial 7: Introduction to Earth System Models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D5_ClimateModeling/student/W1D5_Outro.html">
     Outro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D5_ClimateModeling/further_reading.html">
     Suggested Further Reading
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W1D5_ClimateModeling/student/W1D5_DaySummary.html">
     Day Summary
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../W2D1_FutureClimate-IPCCIPhysicalBasis/chapter_title.html">
   Future Climate - IPCC I Physical Basis (W2D1)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D1_FutureClimate-IPCCIPhysicalBasis/student/W2D1_Intro.html">
     Intro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D1_FutureClimate-IPCCIPhysicalBasis/student/W2D1_Tutorial1.html">
     Tutorial 1: Creating Maps of CMIP6 Earth System Model (ESM) Projections
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D1_FutureClimate-IPCCIPhysicalBasis/student/W2D1_Tutorial2.html">
     Tutorial 2: Time Series, Global Averages, and Scenario Comparison
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D1_FutureClimate-IPCCIPhysicalBasis/student/W2D1_Tutorial3.html">
     Tutorial 3: Multi-model Ensembles
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D1_FutureClimate-IPCCIPhysicalBasis/student/W2D1_Tutorial4.html">
     Tutorial 4: Quantifying Uncertainty in Projections
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D1_FutureClimate-IPCCIPhysicalBasis/student/W2D1_Tutorial5.html">
     <strong>
      Tutorial 5: Internal Climate Variability
     </strong>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D1_FutureClimate-IPCCIPhysicalBasis/student/W2D1_Tutorial6.html">
     <strong>
      Tutorial 6: Synthesising &amp; Interpreting Diverse Data Sources
     </strong>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D1_FutureClimate-IPCCIPhysicalBasis/student/W2D1_Outro.html">
     Outro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D1_FutureClimate-IPCCIPhysicalBasis/further_reading.html">
     Suggested Further Reading
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D1_FutureClimate-IPCCIPhysicalBasis/student/W2D1_DaySummary.html">
     <strong>
      Day Summary
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../chapter_title.html">
   Future Climate - IPCC II &amp; III Socio-Economic Basis (W2D3)
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="W2D3_Intro.html">
     Intro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="W2D3_Tutorial1.html">
     Tutorial 1: The Socio-economic Origins of the Climate Emergency
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="W2D3_Tutorial2.html">
     Tutorial 2: Transition Goals and Integrated Assessment Models**
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="W2D3_Tutorial3.html">
     <strong>
      Tutorial 3: IAMs and SSPs
     </strong>
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Tutorial 4: Public Opinion on the Climate Emergency and Why it Matters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="W2D3_Outro.html">
     Outro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../further_reading.html">
     <strong>
      Tutorial 2 Further Reading
     </strong>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="W2D3_DaySummary.html">
     Day Summary
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Climate Response
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../W2D4_ClimateResponse-Extremes%26Variability/chapter_title.html">
   Climate Response - Extremes &amp; Variability (W2D4)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D4_ClimateResponse-Extremes%26Variability/student/W2D4_Intro.html">
     Intro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D4_ClimateResponse-Extremes%26Variability/student/W2D4_Tutorial1.html">
     Tutorial 1: Distributions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D4_ClimateResponse-Extremes%26Variability/student/W2D4_Tutorial2.html">
     Tutorial 2: What is an Extreme Event? Empirical Return Levels
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D4_ClimateResponse-Extremes%26Variability/student/W2D4_Tutorial3.html">
     Tutorial 3: Extreme Value Analysis - the GEV Distribution
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D4_ClimateResponse-Extremes%26Variability/student/W2D4_Tutorial4.html">
     Tutorial 4: Return Levels Using Normal and GEV Distributions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D4_ClimateResponse-Extremes%26Variability/student/W2D4_Tutorial5.html">
     Tutorial 5: Non-stationarity in Historical Records
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D4_ClimateResponse-Extremes%26Variability/student/W2D4_Tutorial6.html">
     Tutorial 6: Scenario-dependence of Future Changes in Extremes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D4_ClimateResponse-Extremes%26Variability/student/W2D4_Tutorial7.html">
     Tutorial 7: Non-Stationarity in the EVT-framework
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D4_ClimateResponse-Extremes%26Variability/student/W2D4_Tutorial8.html">
     Tutorial 8: Thresholds
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D4_ClimateResponse-Extremes%26Variability/student/W2D4_Outro.html">
     Outro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D4_ClimateResponse-Extremes%26Variability/further_reading.html">
     Suggested Further Reading
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D4_ClimateResponse-Extremes%26Variability/student/W2D4_DaySummary.html">
     Day Summary
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../W2D5_ClimateResponse-AdaptationImpact/chapter_title.html">
   Climate Response - Adaptation Impact (W2D5)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D5_ClimateResponse-AdaptationImpact/student/W2D5_Intro.html">
     Intro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D5_ClimateResponse-AdaptationImpact/student/W2D5_Tutorial1.html">
     Tutorial 1: Linear and Logistic Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D5_ClimateResponse-AdaptationImpact/student/W2D5_Tutorial2.html">
     Tutorial 2:  Regression and Decision Trees on the Dengue Fever Dataset
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D5_ClimateResponse-AdaptationImpact/student/W2D5_Tutorial3.html">
     Tutorial 3:  Logistic Regression and ANN on the Remote Sensing Crop Dataset
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D5_ClimateResponse-AdaptationImpact/student/W2D5_Tutorial4.html">
     Tutorial 4:  Exploring Other Applications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D5_ClimateResponse-AdaptationImpact/student/W2D5_Outro.html">
     Outro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D5_ClimateResponse-AdaptationImpact/further_reading.html">
     Suggested Further Reading
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../W2D5_ClimateResponse-AdaptationImpact/student/W2D5_DaySummary.html">
     Day Summary
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Project Booklet
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../projects/README.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../projects/keynote.html">
   Project Day keynote (W2D2)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../projects/docs/project_guidance.html">
   Daily guide for projects
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../projects/docs/datasets_overview.html">
   Project materials
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../projects/project-notebooks/Sea_level_rise.html">
     <strong>
      Sea Level Rise
     </strong>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../projects/project-notebooks/Ocean_acidification.html">
     <strong>
      Ocean Acidification
     </strong>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../projects/project-notebooks/ENSO_impact_on_precipitation_and_temperature.html">
     <strong>
      The Impact of ENSO on Precipitation and Temperature
     </strong>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../projects/project-notebooks/Regional_precipitation_variability.html">
     Regional Precipitation Variability and Extreme Events
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../projects/project-notebooks/Heatwaves.html">
     <strong>
      Heatwaves: Assessing the Dynamic Interactions of the Atmosphere and Land
     </strong>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../projects/project-notebooks/Wildfires_and_burnt_areas.html">
     <strong>
      Monitoring and Mapping Wildfires Using Satellite Data
     </strong>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../projects/project-notebooks/Surface_albedo_and_land_cover.html">
     Changes in Land Cover: Albedo and Carbon Sequestration
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../projects/docs/continuing_your_project_after_the_course.html">
   Continuing your project after the course
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Professional Development
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../projects/professional_development/README.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../projects/professional_development/impact_talks.html">
   Impact Talks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../projects/professional_development/mentors.html">
   Mentor Meetings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../projects/professional_development/career_features.html">
   Career Features
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../projects/professional_development/career_panels.html">
   Career Panels
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://climatematch.2i2c.cloud/hub/user-redirect/git-pull?repo=https%3A//github.com/ClimatematchAcademy/course-content&urlpath=lab/tree/course-content/book/tutorials/W2D3_FutureClimate-IPCCII%26IIISocio-EconomicBasis/student/W2D3_Tutorial4.ipynb&branch=main"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on JupyterHub"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../../_static/images/logo_jupyterhub.svg">
  </span>
<span class="headerbtn__text-container">JupyterHub</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/ClimatematchAcademy/course-content"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/ClimatematchAcademy/course-content/issues/new?title=Issue%20on%20page%20%2Ftutorials/W2D3_FutureClimate-IPCCII&IIISocio-EconomicBasis/student/W2D3_Tutorial4.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../_sources/tutorials/W2D3_FutureClimate-IPCCII&IIISocio-EconomicBasis/student/W2D3_Tutorial4.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Tutorial 4: Public Opinion on the Climate Emergency and Why it Matters
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tutorial-objectives">
   Tutorial Objectives
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setup">
   Setup
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#figure-settings">
     Figure settings
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#helper-functions">
     Helper functions
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#video-1-public-opinion-on-the-climate-emergency-and-why-it-matters">
     Video 1: Public Opinion on the Climate Emergency and Why it Matters
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#section-1-data-preprocessing">
   Section 1: Data Preprocessing
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#section-2-load-and-inspect-data">
   Section 2: Load and Inspect Data
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#coding-exercise-2">
     Coding Exercise 2
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#section-3-word-set-prevalence">
   Section 3: Word Set Prevalence
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#questions-3">
     Questions 3
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#coding-exercise-3">
     Coding Exercise 3
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#section-4-sentiment-analysis">
   Section 4: Sentiment Analysis
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#section-5-word-clouds">
   Section 5: Word Clouds
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#resources">
   Resources
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Tutorial 4: Public Opinion on the Climate Emergency and Why it Matters</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Tutorial 4: Public Opinion on the Climate Emergency and Why it Matters
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tutorial-objectives">
   Tutorial Objectives
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setup">
   Setup
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#figure-settings">
     Figure settings
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#helper-functions">
     Helper functions
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#video-1-public-opinion-on-the-climate-emergency-and-why-it-matters">
     Video 1: Public Opinion on the Climate Emergency and Why it Matters
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#section-1-data-preprocessing">
   Section 1: Data Preprocessing
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#section-2-load-and-inspect-data">
   Section 2: Load and Inspect Data
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#coding-exercise-2">
     Coding Exercise 2
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#section-3-word-set-prevalence">
   Section 3: Word Set Prevalence
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#questions-3">
     Questions 3
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#coding-exercise-3">
     Coding Exercise 3
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#section-4-sentiment-analysis">
   Section 4: Sentiment Analysis
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#section-5-word-clouds">
   Section 5: Word Clouds
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#resources">
   Resources
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <p><a class="reference external" href="https://colab.research.google.com/github/ClimateMatchAcademy/course-content/blob/main/tutorials/W2D3_FutureClimate-IPCCII&amp;IIISocio-EconomicBasis/W2D3_Tutorial4.ipynb"><img alt="Open In Colab" src="https://colab.research.google.com/assets/colab-badge.svg" /></a>   <a href="https://kaggle.com/kernels/welcome?src=https://raw.githubusercontent.com/ClimateMatchAcademy/course-content/main/tutorials/W2D3_FutureClimate-IPCCII&amp;IIISocio-EconomicBasis/W2D3_Tutorial4.ipynb" target="_blank"><img alt="Open in Kaggle" src="https://kaggle.com/static/images/open-in-kaggle.svg" /></a></p>
<div class="section" id="tutorial-4-public-opinion-on-the-climate-emergency-and-why-it-matters">
<h1>Tutorial 4: Public Opinion on the Climate Emergency and Why it Matters<a class="headerlink" href="#tutorial-4-public-opinion-on-the-climate-emergency-and-why-it-matters" title="Permalink to this headline">#</a></h1>
<p><strong>Week 2, Day 3: IPCC Socio-economic Basis</strong></p>
<p><strong>Content creators:</strong> Maximilian Puelma Touzel</p>
<p><strong>Content reviewers:</strong> Peter Ohue, Derick Temfack, Zahra Khodakaramimaghsoud, Peizhen Yang, Younkap Nina Duplex, Laura Paccini, Sloane Garelick, Abigail Bodner, Manisha Sinha, Agustina Pesce, Dionessa Biton, Cheng Zhang, Jenna Pearson, Chi Zhang, Ohad Zivan</p>
<p><strong>Content editors:</strong> Jenna Pearson, Chi Zhang, Ohad Zivan</p>
<p><strong>Production editors:</strong> Wesley Banfield, Jenna Pearson, Chi Zhang, Ohad Zivan</p>
<p><strong>Our 2023 Sponsors:</strong> NASA TOPS and Google DeepMind</p>
</div>
<div class="section" id="tutorial-objectives">
<h1>Tutorial Objectives<a class="headerlink" href="#tutorial-objectives" title="Permalink to this headline">#</a></h1>
<p>In this tutorial, we will explore a dataset derived from Twitter, focusing on public sentiment surrounding the <a class="reference external" href="https://unfccc.int/process/bodies/supreme-bodies/conference-of-the-parties-cop">Conference of Parties (COP) climate change conferences</a>. We will use data from a published study by <a class="reference external" href="https://www.nature.com/articles/s41558-022-01527-x">Falkenberg et al. <em>Nature Clim. Chg.</em> 2022</a>. This dataset encompasses tweets mentioning the COP conferences, which bring together world governments, NGOs, and businesses to discuss and negotiate on climate change progress. Our main objective is to understand public sentiment about climate change and how it has evolved over time through an analysis of changing word usage on social media. In the process, we will also learn how to manage and analyze large quantities of text data.</p>
<p>The tutorial is divided into sections, where we first delve into loading and inspecting the data, examining the timing and languages of the tweets, and analyzing sentiments associated with specific words, including those indicating ‘hypocrisy’. We’ll also look at sentiments regarding institutions within these tweets and compare the sentiment of tweets containing ‘hypocrisy’-related words versus those without. This analysis is supplemented with visualization techniques like word clouds and distribution plots.</p>
<p>By the end of this tutorial, you will have developed a nuanced understanding of how text analysis can be used to study public sentiment on climate change and other environmental issues, helping us to navigate the intricate and evolving landscape of climate communication and advocacy.</p>
</div>
<div class="section" id="setup">
<h1>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># installations ( uncomment and run this cell ONLY when using google colab or kaggle )</span>

<span class="c1"># !pip install afinn</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># imports</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">wordcloud</span> <span class="kn">import</span> <span class="n">WordCloud</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfVectorizer</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">CountVectorizer</span>

<span class="c1"># notebook config</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">HTML</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">nltk</span>
<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>
<span class="kn">from</span> <span class="nn">mpl_toolkits.axes_grid1.inset_locator</span> <span class="kn">import</span> <span class="n">inset_axes</span>
<span class="kn">import</span> <span class="nn">urllib.request</span>  <span class="c1"># the lib that handles the url stuff</span>
<span class="kn">from</span> <span class="nn">afinn</span> <span class="kn">import</span> <span class="n">Afinn</span>
<span class="kn">import</span> <span class="nn">pooch</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">tempfile</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="figure-settings">
<h2>Figure settings<a class="headerlink" href="#figure-settings" title="Permalink to this headline">#</a></h2>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># @title Figure settings</span>
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>  <span class="c1"># interactive display</span>

<span class="o">%</span><span class="k">config</span> InlineBackend.figure_format = &#39;retina&#39;
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span>
    <span class="s2">&quot;https://raw.githubusercontent.com/ClimateMatchAcademy/course-content/main/cma.mplstyle&quot;</span>
<span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;ticks&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;axes.grid&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
<span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="s2">&quot;&lt;style&gt;.container { width:100% !important; }&lt;/style&gt;&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>.container { width:100% !important; }</style></div></div>
</div>
</div>
<div class="section" id="helper-functions">
<h2>Helper functions<a class="headerlink" href="#helper-functions" title="Permalink to this headline">#</a></h2>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># @title Helper functions</span>


<span class="k">def</span> <span class="nf">pooch_load</span><span class="p">(</span><span class="n">filelocation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">processor</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="c1"># this is different for each day</span>
    <span class="n">shared_location</span> <span class="o">=</span> <span class="s2">&quot;/home/jovyan/shared/Data/tutorials/W2D3_FutureClimate-IPCCII&amp;IIISocio-EconomicBasis&quot;</span>
    <span class="n">user_temp_cache</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">gettempdir</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">shared_location</span><span class="p">,</span> <span class="n">filename</span><span class="p">)):</span>
        <span class="n">file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">shared_location</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">file</span> <span class="o">=</span> <span class="n">pooch</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span>
            <span class="n">filelocation</span><span class="p">,</span>
            <span class="n">known_hash</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">fname</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">user_temp_cache</span><span class="p">,</span> <span class="n">filename</span><span class="p">),</span>
            <span class="n">processor</span><span class="o">=</span><span class="n">processor</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">file</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="video-1-public-opinion-on-the-climate-emergency-and-why-it-matters">
<h2>Video 1: Public Opinion on the Climate Emergency and Why it Matters<a class="headerlink" href="#video-1-public-opinion-on-the-climate-emergency-and-why-it-matters" title="Permalink to this headline">#</a></h2>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "fb2aaafc2527492fa29e470eea4af51a"}
</script></div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "4186611da6af4f7b94614d227ac97331"}
</script></div>
</div>
</div>
</div>
<div class="section" id="section-1-data-preprocessing">
<h1>Section 1: Data Preprocessing<a class="headerlink" href="#section-1-data-preprocessing" title="Permalink to this headline">#</a></h1>
<p>We have performed the following preprocessing steps for you (simply follow along; there is no need to execute any commands in this section):</p>
<p>Every Twitter message (hereon called <em>tweets</em>) has an ID. IDs of all tweets mentioning <code class="docutils literal notranslate"><span class="pre">COPx</span></code> (x=20-26, which refers to the session number of each COP meeting) used in <a class="reference external" href="https://doi.org/10.1038/s41558-022-01527-x">Falkenberg et al. (2022)</a> were placed by the authors in an <a class="reference external" href="https://osf.io/nu75j">osf archive</a>. You can download the 7 .csv files (one for each COP) <a class="reference external" href="https://osf.io/download/pr29x/">here</a></p>
<p>The <code class="docutils literal notranslate"><span class="pre">twarc2</span></code> program serves as an interface with the Twitter API, allowing users to retrieve full tweet content and metadata by providing the tweet ID. Similar to GitHub, you need to create a Twitter API account and configure <code class="docutils literal notranslate"><span class="pre">twarc</span></code> on your local machine by providing your account authentication keys. To rehydrate a set of tweets using their IDs, you can use the following command: <code class="docutils literal notranslate"><span class="pre">twarc2</span> <span class="pre">hydrate</span> <span class="pre">source_file.txt</span> <span class="pre">store_file.jsonl</span></code>. In this command, each line of the <code class="docutils literal notranslate"><span class="pre">source_file.txt</span></code> represents a Twitter ID, and the hydrated tweets will be stored in the <code class="docutils literal notranslate"><span class="pre">store_file.jsonl</span></code>.</p>
<ul class="simple">
<li><p>First, format the downloaded IDs and split them into separate files (<em>batches</em>) to make hydration calls to the API more time manageable (hours versus days - this is slow because of an API-imposed limit of 100 tweets/min.).</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import os</span>
<span class="c1"># dir_name=&#39;Falkenberg2022_data/&#39;</span>
<span class="c1"># if not os.path.exists(dir_name):</span>
<span class="c1">#     os.mkdir(dir_name)</span>
<span class="c1"># batch_size = int(1e5)</span>
<span class="c1"># download_pathname=&#39;&#39;#~/projects/ClimateMatch/SocioEconDay/Polarization/COP_Twitter_IDs/</span>
<span class="c1"># for copid in range(20,27):</span>
<span class="c1">#     df_tweetids=pd.read_csv(download_pathname+&#39;tweet_ids_cop&#39;+str(copid)+&#39;.csv&#39;)</span>
<span class="c1">#     for batch_id,break_id in enumerate(range(0,len(df_tweetids),batch_size)):</span>
<span class="c1">#         file_name=&quot;tweetids_COP&quot;+str(copid)+&quot;_b&quot;+str(batch_id)+&quot;.txt&quot;</span>
<span class="c1">#         df_tweetids.loc[break_id:break_id+batch_size,&#39;id&#39;].to_csv(dir_name+file_name,index=False,header=False)</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Make the hydration calls for COP26 (this took 4 days to download 50GB of data for COP26).</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import glob</span>
<span class="c1"># import time</span>
<span class="c1"># copid=26</span>
<span class="c1"># filename_list = glob.glob(&#39;Falkenberg2022_data/&#39;+&quot;tweetids_COP&quot;+str(copid)+&quot;*&quot;)</span>
<span class="c1"># dir_name=&#39;tweet_data/&#39;</span>
<span class="c1"># if not os.path.exists(dir_name):</span>
<span class="c1">#     os.mkdir(dir_name)</span>
<span class="c1"># file_name=&quot;tweetids_COP&quot;+str(copid)+&quot;_b&quot;+str(batch_id)+&quot;.txt&quot;</span>
<span class="c1"># for itt,tweet_id_batch_filename in enumerate(filename_list):</span>
<span class="c1">#     strvars=tweet_id_batch_filename.split(&#39;/&#39;)[1].split(&#39;.&#39;)[0].split(&#39;_&#39;)</span>
<span class="c1">#     tweet_store_filename = dir_name+&#39;tweets_&#39;+strvars[1]+&#39;_&#39;+strvars[2]+&#39;.json&#39;</span>
<span class="c1">#     if not os.path.exists(tweet_store_filename):</span>
<span class="c1">#         st=time.time()</span>
<span class="c1">#         os.system(&#39;twarc2 hydrate &#39;+tweet_id_batch_filename+&#39; &#39;+tweet_store_filename)</span>
<span class="c1">#         print(str(itt)+&#39; &#39;+str(strvars[2])+&quot; &quot;+str(time.time()-st))</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Load the data, then inspect and pick a chunk size. Note, by default, there are 100 tweets per line in the <code class="docutils literal notranslate"><span class="pre">.json</span></code> files returned by the API. Given we asked for 1e5 tweets/batch, there should be 1e3 lines in these files.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># copid=26</span>
<span class="c1"># batch_id = 0</span>
<span class="c1"># tweet_store_filename = &#39;tweet_data/tweets_COP&#39;+str(copid)+&#39;_b&#39;+str(batch_id)+&#39;.json&#39;</span>
<span class="c1"># num_lines = sum(1 for line in open(tweet_store_filename))</span>
<span class="c1"># num_lines</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Now we read in the data, iterating over chunks in each batch and only store the needed data in a dataframe (takes 10-20 minutes to run). Let’s look at when the tweets were posted, what language they are in, and the tweet text:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># selected_columns = [&#39;created_at&#39;,&#39;lang&#39;,&#39;text&#39;]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># st=time.time()</span>
<span class="c1"># filename_list = glob.glob(&#39;tweet_data/&#39;+&quot;tweets_COP&quot;+str(copid)+&quot;*&quot;)</span>
<span class="c1"># df=[]</span>
<span class="c1"># for tweet_batch_filename in filename_list[:-1]:</span>
<span class="c1">#     reader = pd.read_json(tweet_batch_filename, lines=True,chunksize=1)</span>
<span class="c1"># #     df.append(pd.DataFrame([item[selected_columns] for sublist in reader.data.values.tolist()[:-1] for item in sublist] )[selected_columns])</span>
<span class="c1">#     dfs=[]</span>
<span class="c1">#     for chunk in reader:</span>
<span class="c1">#         if &#39;data&#39; in chunk.columns:</span>
<span class="c1">#             dfs.append(pd.DataFrame(list(chunk.data.values)[0])[selected_columns])</span>
<span class="c1">#     df.append(pd.concat(dfs,ignore_index=True))</span>
<span class="c1"># #     df.append(pd.DataFrame(list(reader.data)[0])[selected_columns])</span>
<span class="c1"># df=pd.concat(df,ignore_index=True)</span>
<span class="c1"># df.created_at=pd.to_datetime(df.created_at)</span>
<span class="c1"># print(str(len(df))+&#39; tweets took &#39;+str(time.time()-st))</span>
<span class="c1"># df.head()</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Finally, store the data in the efficiently compressed feather format</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># df.to_feather(&#39;stored_tweets&#39;)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="section-2-load-and-inspect-data">
<h1>Section 2: Load and Inspect Data<a class="headerlink" href="#section-2-load-and-inspect-data" title="Permalink to this headline">#</a></h1>
<p>Now that we have reviewed the steps that were taken to generate the preprocessed data, we can load the data. It may a few minutes to download the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filename_tweets</span> <span class="o">=</span> <span class="s2">&quot;stored_tweets&quot;</span>
<span class="n">url_tweets</span> <span class="o">=</span> <span class="s2">&quot;https://osf.io/download/8p52x/&quot;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_feather</span><span class="p">(</span>
    <span class="n">pooch_load</span><span class="p">(</span><span class="n">url_tweets</span><span class="p">,</span> <span class="n">filename_tweets</span><span class="p">)</span>
<span class="p">)</span>  <span class="c1"># takes a couple minutes to download</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s check the timing of the tweets relative to the COP26 event (duration shaded in blue in the plot you will make) to see how the number of tweets vary over time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">total_tweetCounts</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">date</span><span class="p">))</span>
    <span class="o">.</span><span class="n">count</span><span class="p">()</span>
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;counts&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">total_tweetCounts</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;created_at&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;counts&quot;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;.-&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span>
<span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>
<span class="n">COPdates</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
    <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
<span class="p">]</span>  <span class="c1"># shade the duration of the COP26 to guide the eye</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axvspan</span><span class="p">(</span><span class="o">*</span><span class="n">COPdates</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="c1"># gray region</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_152300/1550602217.py:10: UserWarning: FixedFormatter should only be used together with FixedLocator
  ax.set_xticklabels(ax.get_xticklabels(), rotation=45, ha=&quot;right&quot;)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.patches.Polygon at 0x7f5c8b7af5e0&gt;
</pre></div>
</div>
<img alt="../../../_images/W2D3_Tutorial4_32_2.png" src="../../../_images/W2D3_Tutorial4_32_2.png" />
</div>
</div>
<p>In addition to assessing the number of tweets, we can also explore who was tweeting about this COP. Look at how many tweets were posted in various languages:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">lang</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>The language name of the tweet is stored as a code name. We can pull a language code dictionary from the web and use it to translate the language code to the language name.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">target_url</span> <span class="o">=</span> <span class="s2">&quot;https://gist.githubusercontent.com/carlopires/1262033/raw/c52ef0f7ce4f58108619508308372edd8d0bd518/gistfile1.txt&quot;</span>
<span class="n">exec</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">target_url</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="n">lang_code_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">iso_639_choices</span><span class="p">)</span>
<span class="n">counts</span> <span class="o">=</span> <span class="n">counts</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="n">lang_code_dict</span><span class="p">})</span>
<span class="n">counts</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>lang</th>
      <th>count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>en</td>
      <td>6570754</td>
    </tr>
    <tr>
      <th>1</th>
      <td>es</td>
      <td>742064</td>
    </tr>
    <tr>
      <th>2</th>
      <td>fr</td>
      <td>321012</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ja</td>
      <td>229586</td>
    </tr>
    <tr>
      <th>4</th>
      <td>pt</td>
      <td>165717</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>66</th>
      <td>ps</td>
      <td>23</td>
    </tr>
    <tr>
      <th>67</th>
      <td>ka</td>
      <td>22</td>
    </tr>
    <tr>
      <th>68</th>
      <td>bo</td>
      <td>16</td>
    </tr>
    <tr>
      <th>69</th>
      <td>sd</td>
      <td>7</td>
    </tr>
    <tr>
      <th>70</th>
      <td>lo</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
<p>71 rows × 2 columns</p>
</div></div></div>
</div>
<div class="section" id="coding-exercise-2">
<h2>Coding Exercise 2<a class="headerlink" href="#coding-exercise-2" title="Permalink to this headline">#</a></h2>
<p>Run the following cell to print the dictionary for the language codes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lang_code_dict</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;ab&#39;: &#39;Abkhaz&#39;,
 &#39;aa&#39;: &#39;Afar&#39;,
 &#39;af&#39;: &#39;Afrikaans&#39;,
 &#39;ak&#39;: &#39;Akan&#39;,
 &#39;sq&#39;: &#39;Albanian&#39;,
 &#39;am&#39;: &#39;Amharic&#39;,
 &#39;ar&#39;: &#39;Arabic&#39;,
 &#39;an&#39;: &#39;Aragonese&#39;,
 &#39;hy&#39;: &#39;Armenian&#39;,
 &#39;as&#39;: &#39;Assamese&#39;,
 &#39;av&#39;: &#39;Avaric&#39;,
 &#39;ae&#39;: &#39;Avestan&#39;,
 &#39;ay&#39;: &#39;Aymara&#39;,
 &#39;az&#39;: &#39;Azerbaijani&#39;,
 &#39;bm&#39;: &#39;Bambara&#39;,
 &#39;ba&#39;: &#39;Bashkir&#39;,
 &#39;eu&#39;: &#39;Basque&#39;,
 &#39;be&#39;: &#39;Belarusian&#39;,
 &#39;bn&#39;: &#39;Bengali&#39;,
 &#39;bh&#39;: &#39;Bihari&#39;,
 &#39;bi&#39;: &#39;Bislama&#39;,
 &#39;bs&#39;: &#39;Bosnian&#39;,
 &#39;br&#39;: &#39;Breton&#39;,
 &#39;bg&#39;: &#39;Bulgarian&#39;,
 &#39;my&#39;: &#39;Burmese&#39;,
 &#39;ca&#39;: &#39;Catalan; Valencian&#39;,
 &#39;ch&#39;: &#39;Chamorro&#39;,
 &#39;ce&#39;: &#39;Chechen&#39;,
 &#39;ny&#39;: &#39;Chichewa; Chewa; Nyanja&#39;,
 &#39;zh&#39;: &#39;Chinese&#39;,
 &#39;cv&#39;: &#39;Chuvash&#39;,
 &#39;kw&#39;: &#39;Cornish&#39;,
 &#39;co&#39;: &#39;Corsican&#39;,
 &#39;cr&#39;: &#39;Cree&#39;,
 &#39;hr&#39;: &#39;Croatian&#39;,
 &#39;cs&#39;: &#39;Czech&#39;,
 &#39;da&#39;: &#39;Danish&#39;,
 &#39;dv&#39;: &#39;Divehi; Maldivian;&#39;,
 &#39;nl&#39;: &#39;Dutch&#39;,
 &#39;dz&#39;: &#39;Dzongkha&#39;,
 &#39;en&#39;: &#39;English&#39;,
 &#39;eo&#39;: &#39;Esperanto&#39;,
 &#39;et&#39;: &#39;Estonian&#39;,
 &#39;ee&#39;: &#39;Ewe&#39;,
 &#39;fo&#39;: &#39;Faroese&#39;,
 &#39;fj&#39;: &#39;Fijian&#39;,
 &#39;fi&#39;: &#39;Finnish&#39;,
 &#39;fr&#39;: &#39;French&#39;,
 &#39;ff&#39;: &#39;Fula&#39;,
 &#39;gl&#39;: &#39;Galician&#39;,
 &#39;ka&#39;: &#39;Georgian&#39;,
 &#39;de&#39;: &#39;German&#39;,
 &#39;el&#39;: &#39;Greek, Modern&#39;,
 &#39;gn&#39;: &#39;Guaraní&#39;,
 &#39;gu&#39;: &#39;Gujarati&#39;,
 &#39;ht&#39;: &#39;Haitian&#39;,
 &#39;ha&#39;: &#39;Hausa&#39;,
 &#39;he&#39;: &#39;Hebrew (modern)&#39;,
 &#39;hz&#39;: &#39;Herero&#39;,
 &#39;hi&#39;: &#39;Hindi&#39;,
 &#39;ho&#39;: &#39;Hiri Motu&#39;,
 &#39;hu&#39;: &#39;Hungarian&#39;,
 &#39;ia&#39;: &#39;Interlingua&#39;,
 &#39;id&#39;: &#39;Indonesian&#39;,
 &#39;ie&#39;: &#39;Interlingue&#39;,
 &#39;ga&#39;: &#39;Irish&#39;,
 &#39;ig&#39;: &#39;Igbo&#39;,
 &#39;ik&#39;: &#39;Inupiaq&#39;,
 &#39;io&#39;: &#39;Ido&#39;,
 &#39;is&#39;: &#39;Icelandic&#39;,
 &#39;it&#39;: &#39;Italian&#39;,
 &#39;iu&#39;: &#39;Inuktitut&#39;,
 &#39;ja&#39;: &#39;Japanese&#39;,
 &#39;jv&#39;: &#39;Javanese&#39;,
 &#39;kl&#39;: &#39;Kalaallisut&#39;,
 &#39;kn&#39;: &#39;Kannada&#39;,
 &#39;kr&#39;: &#39;Kanuri&#39;,
 &#39;ks&#39;: &#39;Kashmiri&#39;,
 &#39;kk&#39;: &#39;Kazakh&#39;,
 &#39;km&#39;: &#39;Khmer&#39;,
 &#39;ki&#39;: &#39;Kikuyu, Gikuyu&#39;,
 &#39;rw&#39;: &#39;Kinyarwanda&#39;,
 &#39;ky&#39;: &#39;Kirghiz, Kyrgyz&#39;,
 &#39;kv&#39;: &#39;Komi&#39;,
 &#39;kg&#39;: &#39;Kongo&#39;,
 &#39;ko&#39;: &#39;Korean&#39;,
 &#39;ku&#39;: &#39;Kurdish&#39;,
 &#39;kj&#39;: &#39;Kwanyama, Kuanyama&#39;,
 &#39;la&#39;: &#39;Latin&#39;,
 &#39;lb&#39;: &#39;Luxembourgish&#39;,
 &#39;lg&#39;: &#39;Luganda&#39;,
 &#39;li&#39;: &#39;Limburgish&#39;,
 &#39;ln&#39;: &#39;Lingala&#39;,
 &#39;lo&#39;: &#39;Lao&#39;,
 &#39;lt&#39;: &#39;Lithuanian&#39;,
 &#39;lu&#39;: &#39;Luba-Katanga&#39;,
 &#39;lv&#39;: &#39;Latvian&#39;,
 &#39;gv&#39;: &#39;Manx&#39;,
 &#39;mk&#39;: &#39;Macedonian&#39;,
 &#39;mg&#39;: &#39;Malagasy&#39;,
 &#39;ms&#39;: &#39;Malay&#39;,
 &#39;ml&#39;: &#39;Malayalam&#39;,
 &#39;mt&#39;: &#39;Maltese&#39;,
 &#39;mi&#39;: &#39;Māori&#39;,
 &#39;mr&#39;: &#39;Marathi (Marāṭhī)&#39;,
 &#39;mh&#39;: &#39;Marshallese&#39;,
 &#39;mn&#39;: &#39;Mongolian&#39;,
 &#39;na&#39;: &#39;Nauru&#39;,
 &#39;nv&#39;: &#39;Navajo, Navaho&#39;,
 &#39;nb&#39;: &#39;Norwegian Bokmål&#39;,
 &#39;nd&#39;: &#39;North Ndebele&#39;,
 &#39;ne&#39;: &#39;Nepali&#39;,
 &#39;ng&#39;: &#39;Ndonga&#39;,
 &#39;nn&#39;: &#39;Norwegian Nynorsk&#39;,
 &#39;no&#39;: &#39;Norwegian&#39;,
 &#39;ii&#39;: &#39;Nuosu&#39;,
 &#39;nr&#39;: &#39;South Ndebele&#39;,
 &#39;oc&#39;: &#39;Occitan&#39;,
 &#39;oj&#39;: &#39;Ojibwe, Ojibwa&#39;,
 &#39;cu&#39;: &#39;Old Church Slavonic&#39;,
 &#39;om&#39;: &#39;Oromo&#39;,
 &#39;or&#39;: &#39;Oriya&#39;,
 &#39;os&#39;: &#39;Ossetian, Ossetic&#39;,
 &#39;pa&#39;: &#39;Panjabi, Punjabi&#39;,
 &#39;pi&#39;: &#39;Pāli&#39;,
 &#39;fa&#39;: &#39;Persian&#39;,
 &#39;pl&#39;: &#39;Polish&#39;,
 &#39;ps&#39;: &#39;Pashto, Pushto&#39;,
 &#39;pt&#39;: &#39;Portuguese&#39;,
 &#39;qu&#39;: &#39;Quechua&#39;,
 &#39;rm&#39;: &#39;Romansh&#39;,
 &#39;rn&#39;: &#39;Kirundi&#39;,
 &#39;ro&#39;: &#39;Romanian, Moldavan&#39;,
 &#39;ru&#39;: &#39;Russian&#39;,
 &#39;sa&#39;: &#39;Sanskrit (Saṁskṛta)&#39;,
 &#39;sc&#39;: &#39;Sardinian&#39;,
 &#39;sd&#39;: &#39;Sindhi&#39;,
 &#39;se&#39;: &#39;Northern Sami&#39;,
 &#39;sm&#39;: &#39;Samoan&#39;,
 &#39;sg&#39;: &#39;Sango&#39;,
 &#39;sr&#39;: &#39;Serbian&#39;,
 &#39;gd&#39;: &#39;Scottish Gaelic&#39;,
 &#39;sn&#39;: &#39;Shona&#39;,
 &#39;si&#39;: &#39;Sinhala, Sinhalese&#39;,
 &#39;sk&#39;: &#39;Slovak&#39;,
 &#39;sl&#39;: &#39;Slovene&#39;,
 &#39;so&#39;: &#39;Somali&#39;,
 &#39;st&#39;: &#39;Southern Sotho&#39;,
 &#39;es&#39;: &#39;Spanish; Castilian&#39;,
 &#39;su&#39;: &#39;Sundanese&#39;,
 &#39;sw&#39;: &#39;Swahili&#39;,
 &#39;ss&#39;: &#39;Swati&#39;,
 &#39;sv&#39;: &#39;Swedish&#39;,
 &#39;ta&#39;: &#39;Tamil&#39;,
 &#39;te&#39;: &#39;Telugu&#39;,
 &#39;tg&#39;: &#39;Tajik&#39;,
 &#39;th&#39;: &#39;Thai&#39;,
 &#39;ti&#39;: &#39;Tigrinya&#39;,
 &#39;bo&#39;: &#39;Tibetan&#39;,
 &#39;tk&#39;: &#39;Turkmen&#39;,
 &#39;tl&#39;: &#39;Tagalog&#39;,
 &#39;tn&#39;: &#39;Tswana&#39;,
 &#39;to&#39;: &#39;Tonga&#39;,
 &#39;tr&#39;: &#39;Turkish&#39;,
 &#39;ts&#39;: &#39;Tsonga&#39;,
 &#39;tt&#39;: &#39;Tatar&#39;,
 &#39;tw&#39;: &#39;Twi&#39;,
 &#39;ty&#39;: &#39;Tahitian&#39;,
 &#39;ug&#39;: &#39;Uighur, Uyghur&#39;,
 &#39;uk&#39;: &#39;Ukrainian&#39;,
 &#39;ur&#39;: &#39;Urdu&#39;,
 &#39;uz&#39;: &#39;Uzbek&#39;,
 &#39;ve&#39;: &#39;Venda&#39;,
 &#39;vi&#39;: &#39;Vietnamese&#39;,
 &#39;vo&#39;: &#39;Volapük&#39;,
 &#39;wa&#39;: &#39;Walloon&#39;,
 &#39;cy&#39;: &#39;Welsh&#39;,
 &#39;wo&#39;: &#39;Wolof&#39;,
 &#39;fy&#39;: &#39;Western Frisian&#39;,
 &#39;xh&#39;: &#39;Xhosa&#39;,
 &#39;yi&#39;: &#39;Yiddish&#39;,
 &#39;yo&#39;: &#39;Yoruba&#39;,
 &#39;za&#39;: &#39;Zhuang, Chuang&#39;,
 &#39;zu&#39;: &#39;Zulu&#39;}
</pre></div>
</div>
</div>
</div>
<p>Find your native language code in the dictionary you just printed and use it to select the COP tweets that were written in your language!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">language_code</span> <span class="o">=</span> <span class="o">...</span>
<span class="n">df_tmp</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">lang</span> <span class="o">==</span> <span class="n">language_code</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_rows</span> <span class="o">=</span> <span class="mi">100</span>  <span class="c1"># see up to 100 entries</span>
<span class="c1"># widen how much text is presented of each tweet</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_colwidth</span> <span class="o">=</span> <span class="mi">250</span>
<span class="n">samples</span> <span class="o">=</span> <span class="o">...</span>
<span class="n">samples</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ellipsis
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="section-3-word-set-prevalence">
<h1>Section 3: Word Set Prevalence<a class="headerlink" href="#section-3-word-set-prevalence" title="Permalink to this headline">#</a></h1>
<p><a class="reference external" href="https://www.nature.com/articles/s41558-022-01533-z">Falkenberg et al.</a> investigated the hypothesis that <em>public sentiment</em> around the COP conferences has increasingly framed them as hypocritical (“political hypocrisy as a topic of cross-ideological appeal”). The authors operationalized hypocrisy language as any tweet containing any of the following words:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">selected_words</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;hypocrisy&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hypocrite&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hypocritical&quot;</span><span class="p">,</span>
    <span class="s2">&quot;greenwash&quot;</span><span class="p">,</span>
    <span class="s2">&quot;green wash&quot;</span><span class="p">,</span>
    <span class="s2">&quot;blah&quot;</span><span class="p">,</span>
<span class="p">]</span>  <span class="c1"># the last 3 words don&#39;t add much. Greta Thurnberg&#39;s &#39;blah, blah blah&#39; speech on Sept. 28th 2021.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="questions-3">
<h2>Questions 3<a class="headerlink" href="#questions-3" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p>How might this matching procedure be limited in its ability to capture this sentiment?</p></li>
</ol>
<p>The authors then searched for these words within a distinct dataset across all COP conferences (this dataset was not made openly accessible but the figure using that data is <a class="reference external" href="https://www.nature.com/articles/s41558-022-01527-x/figures/7">here</a>). They found that hypocrisy has been mentioned more in recent COP conferences.</p>
<p>Here, we will shift our focus to their accessible COP26 dataset and analyze the nature of comments related to specific topics, such as political hypocrisy. First, let’s look through the whole dataset and pull tweets that mention any of the selected words.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">selectwords_detector</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
    <span class="sa">r</span><span class="s2">&quot;\b(?:</span><span class="si">{0}</span><span class="s2">)\b&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">selected_words</span><span class="p">))</span>
<span class="p">)</span>  <span class="c1"># to make a word detector for a wordlist faster to run, compile it!</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;select_talk&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
    <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">selectwords_detector</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="p">)</span>  <span class="c1"># look through whole dataset, flagging tweets with select_talk (computes in under a minute)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s extract these tweets and examine their occurrence statistics in relation to the entire dataset that we calculated above.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">selected_tweets</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="n">df</span><span class="o">.</span><span class="n">select_talk</span><span class="o">.</span><span class="n">isnull</span><span class="p">(),</span> <span class="p">:]</span>
<span class="n">selected_tweet_counts</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">selected_tweets</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span>
        <span class="n">selected_tweets</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">date</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">count</span><span class="p">()</span>
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;counts&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">selected_tweet_fraction</span> <span class="o">=</span> <span class="n">selected_tweet_counts</span> <span class="o">/</span> <span class="n">total_tweetCounts</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">selected_tweet_fraction</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;created_at&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;counts&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;.-&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span>
<span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axvspan</span><span class="p">(</span><span class="o">*</span><span class="n">COPdates</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>  <span class="c1"># gray region</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;fraction talking about hypocrisy&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_152300/2059626556.py:5: UserWarning: FixedFormatter should only be used together with FixedLocator
  ax.set_xticklabels(ax.get_xticklabels(), rotation=45, ha=&quot;right&quot;)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;fraction talking about hypocrisy&#39;)
</pre></div>
</div>
<img alt="../../../_images/W2D3_Tutorial4_50_2.png" src="../../../_images/W2D3_Tutorial4_50_2.png" />
</div>
</div>
<p>Please note that these fractions are normalized, meaning that larger fractions closer to the COP26 dates (shaded in blue) when the total number of tweets are orders of magnitude larger indicate a significantly greater absolute number of tweets talking about hypocrisy.</p>
<p>Now, let’s examine the content of these tweets by randomly sampling 100 of them.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">selected_tweets</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;RT @TiceRichard: COP26: is it most hypocritical event ever? Hundreds of private jets emitting CO2, leaders shouting  “emergency” yet don’t…&#39;,
       &#39;@thegwpfcom @COP26 Cop 26 should end in failure.\n\nIt is a hypocritical jamboree to allow a growing group of bandwagon riders to discuss a fraudulent hypothesis with the aim of raising more money for themselves.&#39;,
       &#39;RT @uk_rants: Not apologising for being a lying hypocrite, just for being caught.\n#COP26 is a con, and these charlatans should be laughed o…&#39;,
       &#39;#COP26 has largely been characterised by inaction, hypocrisy and empty words from world leaders. But we have also seen Indigenous, grassroots and youth climate justice activists raising their voices demanding urgent action on the climate crisis.&#39;,
       &#39;RT @thecoastguy: If Cop26 doesn’t alert you to the utter, utter, utter hypocrisy of the self-serving do-as-I-say-and-not-as-I-do brigade, t…&#39;,
       &#39;RT @Future_Cities: Hands up those who didnt see this latest example of elitist hypocrisy coming?\n&quot;Unvaccinated travellers from across the g…&#39;,
       &#39;RT @davidkurten: COP26 is a load of hypocritical garbage. The 30,000 climate alarmists flying in on their private jets and staying in luxur…&#39;,
       &#39;@TVKev COP26, the event that showed the masses how hypocritical our leaders actually are. I approve.&#39;,
       &#39;With all the blah blah blah of #cop26 this shows you what we expect to look like in 2030 and it’s not good. https://t.co/CiotWFoT7x&#39;,
       &#39;RT @atrembath: &quot;Pursuing climate ambitions on the backs of the poorest people in the world is not just hypocritical—it is immoral, unjust,…&#39;,
       &#39;RT @thecoastguy: If Cop26 doesn’t alert you to the utter, utter, utter hypocrisy of the self-serving do-as-I-say-and-not-as-I-do brigade, t…&#39;,
       &#39;RT @Nigel_Farage: Every world leader or dignitary that arrives to @COP26 by private jet is an eco-hypocrite. Fact.&#39;,
       &quot;RT @JunkScience: Climate hypocrite @BorisJohnson evacuating COP26 disaster today by private jet...\n\n... because the train &#39;would take too l…&quot;,
       &#39;RT @jane_touil: Today at the #GlobalInvestmentSummit @DraxGroup will #greenwash its  #tree burning, which is fuelling #forest\xa0destruction &amp;amp;…&#39;,
       &#39;What a joke the chest-beating, posturing &amp;amp; hypocritical #COP26 was! China &amp;amp; India said NO to phasing out coal &amp;amp; the whole wasteful, indulgent, overblown charade was a flop. A pile of excrement.&#39;,
       &#39;@XRebellionUK @cityoflondon @IPCC_CH @AlokSharma_RDG @COP26 PS:\n\nWe recommend you procure a wooden handled broom with a wooden natural bristle-filled broom-head; from sustainable sources.\n\nYours appears to be constructed from synthetic materials?  We were searching Ali Express to highlight your apparent hypocrisy but got bored. https://t.co/a9Py8ngDAN&#39;,
       &#39;RT @XrSouthEastUK: @dsubtilf @ScotlandXr Meanwhile, in the UK @nationalgriduk  are sponsoring #COP26  and running a huge #greenwash campaig…&#39;,
       &#39;RT @Nigel_Farage: Every world leader or dignitary that arrives to @COP26 by private jet is an eco-hypocrite. Fact.&#39;,
       &#39;Greta’s right, COP26 should be ‘Blah blah blah26’ but how you might think 😉https://t.co/wfHpxqCM6M via @theconwom&#39;,
       &#39;Yet not a mention of the public disgust at this eco-hypocrite’s shameless attempt to hijack COP26 for personal PR. https://t.co/GmE1d2Jp7E&#39;,
       &#39;RT @Ed_Miliband: No greenwash and no fudges: Cop26’s success depends on leaders telling the truth. \n\nhttps://t.co/pAAjBFetBo&#39;,
       &#39;RT @davidkurten: COP26 is a load of hypocritical garbage. The 30,000 climate alarmists flying in on their private jets and staying in luxur…&#39;,
       &#39;@GBNEWS Although I can’t stand her, she is correct on this point.\n\nCOP26 is theatre &amp;amp; hypocrisy.&#39;,
       &#39;RT @thecoastguy: If Cop26 doesn’t alert you to the utter, utter, utter hypocrisy of the self-serving do-as-I-say-and-not-as-I-do brigade, t…&#39;,
       &#39;RT @ArchewellBaby: &quot;The Royal Family are part of the climate problem no matter how much greenwash they throw about&quot;\n\nThe royal family carbo…&#39;,
       &#39;RT @guse_guse: @BorisJohnson @COP26 I imagine they will consider your hypocrisy in talking about THEIR need to deliver on their commitments…&#39;,
       &#39;RT @MikeHudema: MASSIVE. Thousands out on the streets of #Glasgow.\n\nNo more false promises. No more ‘blah, blah, blah.’ The clock is tickin…&#39;,
       &#39;RT @TheresaTINI: Any aspirations announced yesterday are hypocrisy when we choose to keep funding fossil fuel\n\nMore than 20 countries and i…&#39;,
       &quot;RT @GeorgeMonbiot: This agreement isn&#39;t greenwash. It&#39;s green waterboarding. \n#COP26&quot;,
       &#39;RT @TiceRichard: COP26: is it most hypocritical event ever? Hundreds of private jets emitting CO2, leaders shouting  “emergency” yet don’t…&#39;,
       &#39;@COP26 GFYs, you hypocritical parasites.&#39;,
       &#39;RT @davidkurten: COP26 is a load of hypocritical garbage. The 30,000 climate alarmists flying in on their private jets and staying in luxur…&#39;,
       &#39;Climate change: Mexican president slams COP26\xa0‘hypocrisy’ https://t.co/95rICxSz2X&#39;,
       &#39;RT @TiceRichard: COP26: is it most hypocritical event ever? Hundreds of private jets emitting CO2, leaders shouting  “emergency” yet don’t…&#39;,
       &#39;RT @BarbaraSutton15: The Queens speech to COP26 so hypocritical -she lobbied The Scots to exempt her land from a climate law change on rene…&#39;,
       &#39;RT @Nigel_Farage: Every world leader or dignitary that arrives to @COP26 by private jet is an eco-hypocrite. Fact.&#39;,
       &#39;@BorisJohnson @COP26 Mendacious hypocrite!&#39;,
       &#39;RT @Stella4Menzies: How hypocritical, but true to form. The government that dared Holden to close down and defunded universities and CSIRO…&#39;,
       &#39;RT @GrahamGGrant: #Sturgeon’s hypocrisy — and a #green agenda that could bankrupt #Scotland #SNP #Cop26 \n\nRead more here: https://t.co/yfGX…&#39;,
       &#39;RT @toadmeister: Never mind renewables, you could power Cop26 on virtue-signalling and hypocrisy alone https://t.co/qYC8aEqDRG via @mailplus&#39;,
       &#39;While the planet🌎 (Economy) TANKS policymakers &amp;amp; plutocrats fiddle #2%\n\n&quot;Green economy. Blah blah blah. Net zero by 2050&quot;\n👉We need war like footing\n\n#ClimateBlah Blah Blah\n#cdnpoli #COP26 #AGoodWar \nhttps://t.co/TR7PgxbSR3&#39;,
       &#39;Starting today up to 30,000 hypocritical cunts will travel to Glasgow to tell people to cut down on their travelling. #COP26&#39;,
       &#39;RT @PeterDClack: COP26 is a grotesque spectacle of decadence and hypocrisy. More than 20,000 people jetted into gloomy Glasgow to sip champ…&#39;,
       &#39;RT @MilarYavuz: A realist review of the cop26. I was also on the camp who watched the developments as blah blah but there is more nuance to…&#39;,
       &#39;RT @thecoastguy: If Cop26 doesn’t alert you to the utter, utter, utter hypocrisy of the self-serving do-as-I-say-and-not-as-I-do brigade, t…&#39;,
       &quot;RT @GreenpeaceUK: @JolyonRubs Tell Boris Johnson that targets aren’t enough - it&#39;s time to drop the hypocritical policies and get serious a…&quot;,
       &quot;RT @BobBenzen: Is it possible the climate crusaders jetting into #COP26 truly don&#39;t understand the depths of their hypocrisy?\nMore likely,…&quot;,
       &#39;RT @davidkurten: COP26 is a load of hypocritical garbage. The 30,000 climate alarmists flying in on their private jets and staying in luxur…&#39;,
       &quot;RT @ClimateAd: WATCH: 30+ years of blah blah blah.\n\n#COP26 needs to be more than just talk.\nIt&#39;s time to #EndFossilFuels https://t.co/LsRmX…&quot;,
       &#39;@BorisJohnson @COP26 Yet trees are destroyed everyday to build houses for an ever increasing population because of illegal immigration, a government policy. You are a bloody hypocrite. Resign you useless pretender.&#39;,
       &#39;RT @PeterDClack: COP26 is a grotesque spectacle of decadence and hypocrisy. More than 20,000 people jetted into gloomy Glasgow to sip champ…&#39;,
       &#39;RT @OceansClimateCU: Me: Caption this figure...\n\n@GretaThunberg: &quot;No more blah blah blah. No more whatever the f*** they are doing in there…&#39;,
       &#39;RT @TiceRichard: COP26: is it most hypocritical event ever? Hundreds of private jets emitting CO2, leaders shouting  “emergency” yet don’t…&#39;,
       &#39;RT @Lewis_Brackpool: A &quot;Let\&#39;s do net zero&quot; sign being powered by a Honda diesel generator...\n\nMore videos on the hypocritical #COP26 are on…&#39;,
       &#39;Struggling to see how an actor flying into Glasgow can be beneficial to the environment. Total hypocrisy by the elite who don’t think that any rules will apply to them. #cop26 has set Scotland’s road to net zero back by years! https://t.co/R64ONKinAz&#39;,
       &#39;RT @Quicktake: &quot;A two-week-long celebration of business as usual and the blah blah blah.&quot;\n\nActivist @GretaThunberg called #COP26 a &quot;greenwa…&#39;,
       &#39;#Greensgobyair - another case of Green hypocrisy and do as I say not as I do:  \nhttps://t.co/zVyg13skgJ&#39;,
       &#39;RT @thecoastguy: If Cop26 doesn’t alert you to the utter, utter, utter hypocrisy of the self-serving do-as-I-say-and-not-as-I-do brigade, t…&#39;,
       &#39;In a stark &amp;amp; pointed message to the hypocritical #TorySewageParty” the UN General Secretary tells #Cop26 &quot;Enough Of Treating Nature Like A Toilet&quot;: The UN Leader Is Fed Up With Climate Inaction\n\n#JohnsonOut  https://t.co/wbTb9hwqCF&#39;,
       &#39;RT @Nigel_Farage: Every world leader or dignitary that arrives to @COP26 by private jet is an eco-hypocrite. Fact.&#39;,
       &quot;Let&#39;s keep banging away at our vain rulers&#39; posturing hypocrisy (1) #FLOP26 https://t.co/wo4Z2vz9u4&quot;,
       &#39;RT @GretaThunberg: The #COP26 is over. Here’s a brief summary: Blah, blah, blah.\n\nBut the real work continues outside these halls. And we w…&#39;,
       &#39;@POTUS TRANSLATION: I left COP26 in my Private Jet today feeling as hypocritical as I ever have about our path forward on climate. I must show better leadership and lead by example. That’s the only way we’re going to get this done.&#39;,
       &#39;RT @davidkurten: The COP26 gathering of climate alarmists will be the height of hypocrisy - the 30,000 people flying across the world on je…&#39;,
       &#39;Sounds like another way of saying that Canada will not be ready for COP26. As Greta Thunberg put it, &quot;just more blah blah blah.&quot; Not good enough @environmentca - #ClimateActionNow \nhttps://t.co/VfrDl3e4zw&#39;,
       &quot;RT @JunkScience: Climate hypocrite @BorisJohnson evacuating COP26 disaster today by private jet...\n\n... because the train &#39;would take too l…&quot;,
       &#39;Green jobs not greenwash.\n#COP26 banner painting with @lil_blue_dot at @Camb_Artworks thisevening https://t.co/yn0m532Gu3&#39;,
       &#39;RT @markruskell: Critical commitment @COP26. Private finance will have a role here, but it needs to be credible not greenwash by corporates…&#39;,
       &#39;RT @thecoastguy: If Cop26 doesn’t alert you to the utter, utter, utter hypocrisy of the self-serving do-as-I-say-and-not-as-I-do brigade, t…&#39;,
       &#39;RT @Ed_Miliband: We cannot let Cop26 be the greenwash summit. It’s time for the Prime Minister to get off his sun lounger, be a statesman a…&#39;,
       &#39;RT @yjadot: Les discours pro-climat à Glasgow, les actes anti-climat  à Bruxelles ! \nCOP26, le double jeu hypocrite d’Emmanuel Macron https…&#39;,
       &#39;RT @thecoastguy: If Cop26 doesn’t alert you to the utter, utter, utter hypocrisy of the self-serving do-as-I-say-and-not-as-I-do brigade, t…&#39;,
       &quot;@ClimateEnvoy Plz don&#39;t attend COP27. Please resign before that. You failed: no phase out of coal, GhG subsidies in place, forests unprotected. The world is tired of US leadership failure (bullying) &amp;amp; hypocrisy. \n@potus, please hire new staff, not the old Obama guard\n\nhttps://t.co/Z6E2hDk8FD&quot;,
       &#39;RT @EuropeanPowell: Thank you @LizzyJPrice for this invaluable list of Tory MP’s whose hypocrisy around their green policies is as laced wi…&#39;,
       &#39;RT @TiceRichard: COP26: is it most hypocritical event ever? Hundreds of private jets emitting CO2, leaders shouting  “emergency” yet don’t…&#39;,
       &#39;RT @GretaThunberg: The #COP26 is over. Here’s a brief summary: Blah, blah, blah.\n\nBut the real work continues outside these halls. And we w…&#39;,
       &#39;RT @TiceRichard: COP26: is it most hypocritical event ever? Hundreds of private jets emitting CO2, leaders shouting  “emergency” yet don’t…&#39;,
       &#39;RT @RepublicStaff: The hypocrisy continues unabated and unchallenged. #COP26 #EndTheMonarchy&#39;,
       &#39;RT @GreenJennyJones: I despair at the inability of Tory Ministers to grasp their hypocrisy, of talking about our #ClimateEmergency then beh…&#39;,
       &#39;RT @TiceRichard: COP26: is it most hypocritical event ever? Hundreds of private jets emitting CO2, leaders shouting  “emergency” yet don’t…&#39;,
       &#39;RT @DPJHodges: COP26 has become a bloated, hypocritical farce. The best thing for the planet would be to cancel it &amp;gt;  Mail On Sunday  &amp;gt;  ht…&#39;,
       &#39;RT @GretaThunberg: The #COP26 is over. Here’s a brief summary: Blah, blah, blah.\n\nBut the real work continues outside these halls. And we w…&#39;,
       &quot;RT @ExtinctionR: 31 years of blah blah blah while the CO2 in the atmosphere has continued to rise exponentially. \n\nWhat&#39;s going to be diffe…&quot;,
       &#39;RT @TheresaAFallon: Hmm, where is @GretaThunberg on this--or is it all blah, blah,blah? 🤔 Visibility deteriorates as pollution cloaks China…&#39;,
       &#39;RT @patricjean: Incroyable...\nÀ la COP26, le double jeu hypocrite d’Emmanuel Macron\nhttps://t.co/dHINDHu8M7&#39;,
       &#39;RT @davidkurten: COP26 is a load of hypocritical garbage. The 30,000 climate alarmists flying in on their private jets and staying in luxur…&#39;,
       &#39;RT @CNN: &quot;No more blah, blah, blah!&quot;\n\nOutside the COP26 UN climate summit, climate activist Greta Thunberg gathered with crowds of proteste…&#39;,
       &#39;RT @TiceRichard: COP26: is it most hypocritical event ever? Hundreds of private jets emitting CO2, leaders shouting  “emergency” yet don’t…&#39;,
       &#39;RT @uk_domain_names: &quot;Johnson takes private jet from Cop26 to London to attend dinner\n\nLabour accuses PM of ‘staggering hypocrisy’ over fli…&#39;,
       &quot;RT @Greenpeace: &#39;Green&#39; aviation? Nothing but greenwash.\n\nIndustry claims of carbon offsets for flights are just another scam to distract u…&quot;,
       &#39;Bezos - arrogance. no humility. Just a bog standard hypocrite! #COP26 https://t.co/m5lWltDg6j&#39;,
       &#39;RT @GretaThunberg: The #COP26 is over. Here’s a brief summary: Blah, blah, blah.\n\nBut the real work continues outside these halls. And we w…&#39;,
       &#39;“Blah blah blah oh yes 2050 climate something thingy blah blah blah the Australian way blah blah blah” - Basically Scott Morrison’s speech at COP26&#39;,
       &#39;RT @MaureenPickeri5: @RE_DailyMail @COP26 Many of us in Scotland are appalled by the hypocrisy of Johnson and royals using private jets, he…&#39;,
       &#39;RT @TiceRichard: RICHARD LITTLEJOHN is superb on Boris’ hypocrisy at Cop26 that could spell Last Orders for him  https://t.co/8MxSAMNGaA&#39;,
       &#39;RT @TiceRichard: Superb by \u2066@DPJHodges\u2069: axe COP26, the most grotesquely hypocritical event the World has ever seen. It will only create ho…&#39;,
       &#39;RT @ThatTimWalker: A surprising number of environmentalists were taken in by @BorisJohnson. Not @GretaThunberg, who can smell  hypocritical…&#39;,
       &quot;RT @ExtinctionR: 31 years of blah blah blah while the CO2 in the atmosphere has continued to rise exponentially. \n\nWhat&#39;s going to be diffe…&quot;,
       &#39;RT @_alairlibre: 🔴 #COP26 : aussi un salon avec des airs de caravane publicitaire où les plus gros pollueurs du monde font leur « greenwash…&#39;,
       &#39;RT @ProagriLtd: @JoeWStanley @BBCNews I’ll just leave this here\n\n@BBCNews Facts not fiction please \n\n#cop26 Action not greenwash&#39;],
      dtype=object)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="coding-exercise-3">
<h2>Coding Exercise 3<a class="headerlink" href="#coding-exercise-3" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p>Please select another topic and provide a list of topic words. We will then conduct the same analysis for that topic. For example, if the topic is “renewable technology,” please provide a list of relevant words.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">selected_words_2</span> <span class="o">=</span> <span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>

<span class="n">selectwords_detector_2</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
    <span class="sa">r</span><span class="s2">&quot;\b(?:</span><span class="si">{0}</span><span class="s2">)\b&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">selected_words_2</span><span class="p">]))</span>
<span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;select_talk_2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
    <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">selectwords_detector_2</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">selected_tweets_2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="n">df</span><span class="o">.</span><span class="n">select_talk_2</span><span class="o">.</span><span class="n">isnull</span><span class="p">(),</span> <span class="p">:]</span>
<span class="n">selected_tweet_counts_2</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">selected_tweets_2</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span>
        <span class="n">selected_tweets_2</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">date</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">count</span><span class="p">()</span>
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;counts&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">selected_tweet_fraction_2</span> <span class="o">=</span> <span class="o">...</span>

<span class="n">samples</span> <span class="o">=</span> <span class="o">...</span>
<span class="n">samples</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ellipsis
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="section-4-sentiment-analysis">
<h1>Section 4: Sentiment Analysis<a class="headerlink" href="#section-4-sentiment-analysis" title="Permalink to this headline">#</a></h1>
<p>Let’s test this hypothesis from <a class="reference external" href="https://www.nature.com/articles/s41558-022-01533-z">Falkenberg et al.</a> (that <em>public sentiment</em> around the COP conferences has increasingly framed them as political hypocrisy). To do so, we can use <strong>sentiment analysis</strong>, which is a method for computing the proportion of words that have positive connotations, negative connotations or are neutral. Some sentiment analysis systems can measure other word attributes as well. In this case, we will analyze the sentiment of the subset of tweets that mention international organizations central to globalization (e.g., G7), focusing specifically on the tweets related to hypocrisy.</p>
<p>Note: part of the computation flow in what follows is from <a class="reference external" href="https://nealcaren.org/lessons/wordlists/">Caren Neal’s tutorial</a>.</p>
<p>We’ll assign tweets a sentiment score using a dictionary method (i.e. based on the word sentiment scores of words in the tweet that appear in given word-sentiment score dictionary). The particular word-sentiment score dictionary we will use is compiled in the <a class="reference external" href="https://pypi.org/project/afinn/">AFINN package</a> and reflects a scoring between -5 (negative connotation) and 5 (positive connotation). The English language dictionary consists of 2,477 coded words.</p>
<p>Let’s initialize the dictionary for the selected language. For example, the language code for English is ‘en’.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">afinn</span> <span class="o">=</span> <span class="n">Afinn</span><span class="p">(</span><span class="n">language</span><span class="o">=</span><span class="n">language_code</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">25</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">afinn</span> <span class="o">=</span> <span class="n">Afinn</span><span class="p">(</span><span class="n">language</span><span class="o">=</span><span class="n">language_code</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/afinn/afinn.py:72,</span> in <span class="ni">Afinn.__init__</span><span class="nt">(self, language, emoticons, word_boundary)</span>
<span class="g g-Whitespace">     </span><span class="mi">57</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;en&quot;</span><span class="p">,</span> <span class="n">emoticons</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">word_boundary</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">58</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Setup dictionary from data file.</span>
<span class="g g-Whitespace">     </span><span class="mi">59</span><span class="sd"> </span>
<span class="g g-Whitespace">     </span><span class="mi">60</span><span class="sd">     The language parameter can be set to English (en) or Danish (da).</span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">     </span><span class="mi">70</span><span class="sd"> </span>
<span class="g g-Whitespace">     </span><span class="mi">71</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">---&gt; </span><span class="mi">72</span>     <span class="n">filename</span> <span class="o">=</span> <span class="n">LANGUAGE_TO_FILENAME</span><span class="p">[</span><span class="n">language</span><span class="p">]</span>
<span class="g g-Whitespace">     </span><span class="mi">73</span>     <span class="n">full_filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_filename</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">74</span>     <span class="k">if</span> <span class="n">emoticons</span><span class="p">:</span>
<span class="g g-Whitespace">     </span><span class="mi">75</span>         <span class="c1"># Words</span>

<span class="ne">KeyError</span>: Ellipsis
</pre></div>
</div>
</div>
</div>
<p>Now we can load the dictionary:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filename_afinn_wl</span> <span class="o">=</span> <span class="s2">&quot;AFINN-111.txt&quot;</span>
<span class="n">url_afinn_wl</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;https://raw.githubusercontent.com/fnielsen/afinn/master/afinn/data/AFINN-111.txt&quot;</span>
<span class="p">)</span>

<span class="n">afinn_wl_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="n">pooch_load</span><span class="p">(</span><span class="n">url_afinn_wl</span><span class="p">,</span> <span class="n">filename_afinn_wl</span><span class="p">),</span>
    <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># no column names</span>
    <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># tab sepeated</span>
    <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;term&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">],</span>
<span class="p">)</span>  <span class="c1"># new column names</span>
<span class="n">seed</span> <span class="o">=</span> <span class="mi">808</span>  <span class="c1"># seed for sample so results are stable</span>
<span class="n">afinn_wl_df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>term</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1852</th>
      <td>regret</td>
      <td>-2</td>
    </tr>
    <tr>
      <th>1285</th>
      <td>indifferent</td>
      <td>-2</td>
    </tr>
    <tr>
      <th>681</th>
      <td>disappoints</td>
      <td>-2</td>
    </tr>
    <tr>
      <th>770</th>
      <td>doubts</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>1644</th>
      <td>outmaneuvered</td>
      <td>-2</td>
    </tr>
    <tr>
      <th>55</th>
      <td>admit</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>1133</th>
      <td>haha</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1160</th>
      <td>haunt</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>2435</th>
      <td>wishing</td>
      <td>1</td>
    </tr>
    <tr>
      <th>21</th>
      <td>abused</td>
      <td>-3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Let’s look at the distribution of scores over all words in the dictionary</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">afinn_wl_df</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Finn score&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;dictionary counts&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;dictionary counts&#39;)
</pre></div>
</div>
<img alt="../../../_images/W2D3_Tutorial4_64_1.png" src="../../../_images/W2D3_Tutorial4_64_1.png" />
</div>
</div>
<p>These scores were assigned to words based on labeled tweets (<a class="reference external" href="http://www2.imm.dtu.dk/pubdb/edoc/imm6006.pdf">validation paper</a>).</p>
<p>Before focussing on sentiments about institutions within the hypocrisy tweets, let’s look at the hypocrisy tweets in comparison to non-hypocrisy tweets. This will take some more intensive computation, so let’s only perform it on a 1% subsample of the dataset</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">smalldf</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">smalldf</span><span class="p">[</span><span class="s2">&quot;afinn_score&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">smalldf</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
    <span class="n">afinn</span><span class="o">.</span><span class="n">score</span>
<span class="p">)</span>  <span class="c1"># intensive computation! We have reduced the data set to frac=0.01 it&#39;s size so it takes ~1 min. (the full dataset takes 1hrs 50 min.)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">29</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">smalldf</span><span class="p">[</span><span class="s2">&quot;afinn_score&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">smalldf</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
<span class="ne">----&gt; </span><span class="mi">2</span>     <span class="n">afinn</span><span class="o">.</span><span class="n">score</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="p">)</span>  <span class="c1"># intensive computation! We have reduced the data set to frac=0.01 it&#39;s size so it takes ~1 min. (the full dataset takes 1hrs 50 min.)</span>

<span class="ne">NameError</span>: name &#39;afinn&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">smalldf</span><span class="p">[</span><span class="s2">&quot;afinn_score&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>  <span class="c1"># generate descriptive statistics.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/indexes/base.py:3652,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3651</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3652</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3653</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/_libs/index.pyx:147,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/_libs/index.pyx:176,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7080,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7088,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="ne">KeyError</span>: &#39;afinn_score&#39;

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">30</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">smalldf</span><span class="p">[</span><span class="s2">&quot;afinn_score&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>  <span class="c1"># generate descriptive statistics.</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/frame.py:3761,</span> in <span class="ni">DataFrame.__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3759</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">nlevels</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3760</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_multilevel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">3761</span> <span class="n">indexer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3762</span> <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">indexer</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">3763</span>     <span class="n">indexer</span> <span class="o">=</span> <span class="p">[</span><span class="n">indexer</span><span class="p">]</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/indexes/base.py:3654,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3652</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3653</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3654</span>     <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
<span class="g g-Whitespace">   </span><span class="mi">3655</span> <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3656</span>     <span class="c1"># If we have a listlike key, _check_indexing_error will raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3657</span>     <span class="c1">#  InvalidIndexError. Otherwise we fall through and re-raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3658</span>     <span class="c1">#  the TypeError.</span>
<span class="g g-Whitespace">   </span><span class="mi">3659</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_check_indexing_error</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="ne">KeyError</span>: &#39;afinn_score&#39;
</pre></div>
</div>
</div>
</div>
<p>From this, we can see that the maximum score is 24 and the minimum score is -33. The score is computed by summing up the scores of all dictionary words present in the tweet, which means that longer tweets tend to have higher scores.</p>
<p>To make the scores comparable across tweets of different lengths, a rough approach is to convert them to a per-word score. This is done by normalizing each tweet’s score by its word count. It’s important to note that this per-word score is not specific to the dictionary words used, so this approach introduces a bias that depends on the proportion of dictionary words in each tweet. We will refer to this normalized score as <em>afinn_adjusted</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">word_count</span><span class="p">(</span><span class="n">text_string</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate the number of words in a string&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">text_string</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>


<span class="n">smalldf</span><span class="p">[</span><span class="s2">&quot;word_count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">smalldf</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">word_count</span><span class="p">)</span>
<span class="n">smalldf</span><span class="p">[</span><span class="s2">&quot;afinn_adjusted&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">smalldf</span><span class="p">[</span><span class="s2">&quot;afinn_score&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">smalldf</span><span class="p">[</span><span class="s2">&quot;word_count&quot;</span><span class="p">]</span>
<span class="p">)</span>  <span class="c1"># note this isn&#39;t a percentage</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/indexes/base.py:3652,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3651</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3652</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3653</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/_libs/index.pyx:147,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/_libs/index.pyx:176,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7080,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7088,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="ne">KeyError</span>: &#39;afinn_score&#39;

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">31</span><span class="p">],</span> <span class="n">line</span> <span class="mi">8</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">text_string</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="n">smalldf</span><span class="p">[</span><span class="s2">&quot;word_count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">smalldf</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">word_count</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="n">smalldf</span><span class="p">[</span><span class="s2">&quot;afinn_adjusted&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
<span class="ne">----&gt; </span><span class="mi">8</span>     <span class="n">smalldf</span><span class="p">[</span><span class="s2">&quot;afinn_score&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">smalldf</span><span class="p">[</span><span class="s2">&quot;word_count&quot;</span><span class="p">]</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> <span class="p">)</span>  <span class="c1"># note this isn&#39;t a percentage</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/frame.py:3761,</span> in <span class="ni">DataFrame.__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3759</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">nlevels</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3760</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_multilevel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">3761</span> <span class="n">indexer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3762</span> <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">indexer</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">3763</span>     <span class="n">indexer</span> <span class="o">=</span> <span class="p">[</span><span class="n">indexer</span><span class="p">]</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/indexes/base.py:3654,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3652</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3653</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3654</span>     <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
<span class="g g-Whitespace">   </span><span class="mi">3655</span> <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3656</span>     <span class="c1"># If we have a listlike key, _check_indexing_error will raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3657</span>     <span class="c1">#  InvalidIndexError. Otherwise we fall through and re-raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3658</span>     <span class="c1">#  the TypeError.</span>
<span class="g g-Whitespace">   </span><span class="mi">3659</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_check_indexing_error</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="ne">KeyError</span>: &#39;afinn_score&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">smalldf</span><span class="p">[</span><span class="s2">&quot;afinn_adjusted&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/indexes/base.py:3652,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3651</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3652</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3653</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/_libs/index.pyx:147,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/_libs/index.pyx:176,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7080,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7088,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="ne">KeyError</span>: &#39;afinn_adjusted&#39;

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">smalldf</span><span class="p">[</span><span class="s2">&quot;afinn_adjusted&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/frame.py:3761,</span> in <span class="ni">DataFrame.__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3759</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">nlevels</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3760</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_multilevel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">3761</span> <span class="n">indexer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3762</span> <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">indexer</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">3763</span>     <span class="n">indexer</span> <span class="o">=</span> <span class="p">[</span><span class="n">indexer</span><span class="p">]</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/indexes/base.py:3654,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3652</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3653</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3654</span>     <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
<span class="g g-Whitespace">   </span><span class="mi">3655</span> <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3656</span>     <span class="c1"># If we have a listlike key, _check_indexing_error will raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3657</span>     <span class="c1">#  InvalidIndexError. Otherwise we fall through and re-raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3658</span>     <span class="c1">#  the TypeError.</span>
<span class="g g-Whitespace">   </span><span class="mi">3659</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_check_indexing_error</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="ne">KeyError</span>: &#39;afinn_adjusted&#39;
</pre></div>
</div>
</div>
</div>
<p>After normalizing the scores, we find that the maximum score is now 2 and the minimum score is now -1.5.</p>
<p>Now let’s look at the sentiment of tweets with hypocrisy words versus those without those words. For reference, we’ll first make cumulative distribution plots of score distributions for some other possibly negative words: fossil, G7, Boris and Davos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">sel_words</span> <span class="ow">in</span> <span class="p">[[</span><span class="s2">&quot;Fossil&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;G7&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;Boris&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;Davos&quot;</span><span class="p">],</span> <span class="n">selected_words</span><span class="p">]:</span>
    <span class="n">sel_name</span> <span class="o">=</span> <span class="n">sel_words</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sel_words</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;select_talk&quot;</span>
    <span class="n">selectwords_detector</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
        <span class="sa">r</span><span class="s2">&quot;\b(?:</span><span class="si">{0}</span><span class="s2">)\b&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sel_words</span><span class="p">))</span>
    <span class="p">)</span>  <span class="c1"># compile for speed!</span>
    <span class="n">smalldf</span><span class="p">[</span><span class="n">sel_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">smalldf</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">selectwords_detector</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="p">)</span>  <span class="c1"># flag if tweet has word(s)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">sel_words</span> <span class="ow">in</span> <span class="p">[[</span><span class="s2">&quot;Fossil&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;G7&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;Boris&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;Davos&quot;</span><span class="p">],</span> <span class="n">selected_words</span><span class="p">]:</span>
    <span class="n">sel_name</span> <span class="o">=</span> <span class="n">sel_words</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sel_words</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;select_talk&quot;</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;adjusted Finn score&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;probabilty&quot;</span><span class="p">)</span>
    <span class="n">counts</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span>
        <span class="n">smalldf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">smalldf</span><span class="p">[</span><span class="n">sel_name</span><span class="p">],</span> <span class="s2">&quot;afinn_adjusted&quot;</span><span class="p">],</span>
        <span class="n">bins</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">),</span>
        <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">bins</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">counts</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;C0&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">sel_name</span> <span class="o">+</span> <span class="s2">&quot; tweets&quot;</span><span class="p">)</span>
    <span class="n">counts</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span>
        <span class="n">smalldf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="n">smalldf</span><span class="p">[</span><span class="n">sel_name</span><span class="p">],</span> <span class="s2">&quot;afinn_adjusted&quot;</span><span class="p">],</span>
        <span class="n">bins</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">),</span>
        <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
        <span class="n">bins</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">counts</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;C1&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;non-&quot;</span> <span class="o">+</span> <span class="n">sel_name</span> <span class="o">+</span> <span class="s2">&quot; tweets&quot;</span>
    <span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="mf">0.7</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;cumulative Finn score distribution for &quot;</span> <span class="o">+</span> <span class="n">sel_name</span> <span class="o">+</span> <span class="s2">&quot; occurence&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/indexes/base.py:3652,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3651</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3652</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3653</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/_libs/index.pyx:147,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/_libs/index.pyx:176,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7080,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7088,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="ne">KeyError</span>: &#39;afinn_adjusted&#39;

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">34</span><span class="p">],</span> <span class="n">line</span> <span class="mi">8</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;adjusted Finn score&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;probabilty&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="n">counts</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span>
<span class="ne">----&gt; </span><span class="mi">8</span>     <span class="n">smalldf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">smalldf</span><span class="p">[</span><span class="n">sel_name</span><span class="p">],</span> <span class="s2">&quot;afinn_adjusted&quot;</span><span class="p">],</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span>     <span class="n">bins</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">),</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span>     <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span> <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">bins</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">counts</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;C0&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">sel_name</span> <span class="o">+</span> <span class="s2">&quot; tweets&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span> <span class="n">counts</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">14</span>     <span class="n">smalldf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="n">smalldf</span><span class="p">[</span><span class="n">sel_name</span><span class="p">],</span> <span class="s2">&quot;afinn_adjusted&quot;</span><span class="p">],</span>
<span class="g g-Whitespace">     </span><span class="mi">15</span>     <span class="n">bins</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">),</span>
<span class="g g-Whitespace">     </span><span class="mi">16</span>     <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">17</span> <span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/indexing.py:1097,</span> in <span class="ni">_LocationIndexer.__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">1095</span>     <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_scalar_access</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1096</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">_get_value</span><span class="p">(</span><span class="o">*</span><span class="n">key</span><span class="p">,</span> <span class="n">takeable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_takeable</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1097</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_tuple</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1098</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1099</span>     <span class="c1"># we by definition only have the 0th axis</span>
<span class="g g-Whitespace">   </span><span class="mi">1100</span>     <span class="n">axis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axis</span> <span class="ow">or</span> <span class="mi">0</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/indexing.py:1280,</span> in <span class="ni">_LocIndexer._getitem_tuple</span><span class="nt">(self, tup)</span>
<span class="g g-Whitespace">   </span><span class="mi">1278</span> <span class="k">with</span> <span class="n">suppress</span><span class="p">(</span><span class="n">IndexingError</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1279</span>     <span class="n">tup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expand_ellipsis</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1280</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_lowerdim</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1282</span> <span class="c1"># no multi-index, so validate all of the indexers</span>
<span class="g g-Whitespace">   </span><span class="mi">1283</span> <span class="n">tup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_tuple_indexer</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/indexing.py:1000,</span> in <span class="ni">_LocationIndexer._getitem_lowerdim</span><span class="nt">(self, tup)</span>
<span class="g g-Whitespace">    </span><span class="mi">996</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tup</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">997</span>     <span class="k">if</span> <span class="n">is_label_like</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">998</span>         <span class="c1"># We don&#39;t need to check for tuples here because those are</span>
<span class="g g-Whitespace">    </span><span class="mi">999</span>         <span class="c1">#  caught by the _is_nested_tuple_indexer check above.</span>
<span class="ne">-&gt; </span><span class="mi">1000</span>         <span class="n">section</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_axis</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1002</span>         <span class="c1"># We should never have a scalar section here, because</span>
<span class="g g-Whitespace">   </span><span class="mi">1003</span>         <span class="c1">#  _getitem_lowerdim is only called after a check for</span>
<span class="g g-Whitespace">   </span><span class="mi">1004</span>         <span class="c1">#  is_scalar_access, which that would be.</span>
<span class="g g-Whitespace">   </span><span class="mi">1005</span>         <span class="k">if</span> <span class="n">section</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">ndim</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1006</span>             <span class="c1"># we&#39;re in the middle of slicing through a MultiIndex</span>
<span class="g g-Whitespace">   </span><span class="mi">1007</span>             <span class="c1"># revise the key wrt to `section` by inserting an _NS</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/indexing.py:1343,</span> in <span class="ni">_LocIndexer._getitem_axis</span><span class="nt">(self, key, axis)</span>
<span class="g g-Whitespace">   </span><span class="mi">1341</span> <span class="c1"># fall thru to straight lookup</span>
<span class="g g-Whitespace">   </span><span class="mi">1342</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1343</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_label</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/indexing.py:1293,</span> in <span class="ni">_LocIndexer._get_label</span><span class="nt">(self, label, axis)</span>
<span class="g g-Whitespace">   </span><span class="mi">1291</span> <span class="k">def</span> <span class="nf">_get_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">axis</span><span class="p">:</span> <span class="n">AxisInt</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1292</span>     <span class="c1"># GH#5567 this will fail if the label is not present in the axis.</span>
<span class="ne">-&gt; </span><span class="mi">1293</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/generic.py:4082,</span> in <span class="ni">NDFrame.xs</span><span class="nt">(self, key, axis, level, drop_level)</span>
<span class="g g-Whitespace">   </span><span class="mi">4080</span> <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">4081</span>     <span class="k">if</span> <span class="n">drop_level</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">4082</span>         <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
<span class="g g-Whitespace">   </span><span class="mi">4083</span>     <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span>
<span class="g g-Whitespace">   </span><span class="mi">4084</span> <span class="k">else</span><span class="p">:</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/frame.py:3761,</span> in <span class="ni">DataFrame.__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3759</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">nlevels</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3760</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_multilevel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">3761</span> <span class="n">indexer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3762</span> <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">indexer</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">3763</span>     <span class="n">indexer</span> <span class="o">=</span> <span class="p">[</span><span class="n">indexer</span><span class="p">]</span>

<span class="nn">File ~/miniconda3/envs/climatematch/lib/python3.10/site-packages/pandas/core/indexes/base.py:3654,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3652</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3653</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3654</span>     <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
<span class="g g-Whitespace">   </span><span class="mi">3655</span> <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3656</span>     <span class="c1"># If we have a listlike key, _check_indexing_error will raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3657</span>     <span class="c1">#  InvalidIndexError. Otherwise we fall through and re-raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3658</span>     <span class="c1">#  the TypeError.</span>
<span class="g g-Whitespace">   </span><span class="mi">3659</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_check_indexing_error</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="ne">KeyError</span>: &#39;afinn_adjusted&#39;
</pre></div>
</div>
<img alt="../../../_images/W2D3_Tutorial4_74_1.png" src="../../../_images/W2D3_Tutorial4_74_1.png" />
</div>
</div>
<p>Recall from our previous calculations that the tweets containing the selected <em>hypocrisy</em>-associated words have minimum adjusted score of -1.5. This score is much more negative than the scores of all four reference words we just plotted. So what is the content of these selected tweets that is causing them to be so negative? The explore this, we can use word clouds to assess the usage of specific words.</p>
</div>
<div class="section" id="section-5-word-clouds">
<h1>Section 5: Word Clouds<a class="headerlink" href="#section-5-word-clouds" title="Permalink to this headline">#</a></h1>
<p>To analyze word usage, let’s first vectorize the text data. Vectorization (also known as tokenization) here means giving each word in the vocabulary an index and transforming each word sequence to its vector representation and creating a sequence of elements with the corresponding word indices (e.g. the response <code class="docutils literal notranslate"><span class="pre">['I','love','icecream']</span></code> maps to something like <code class="docutils literal notranslate"><span class="pre">[34823,5937,79345]</span></code>).</p>
<p>We’ll use and compare two methods: term-frequency (<span class="math notranslate nohighlight">\(\mathrm{tf}\)</span>) and term-frequency inverse document frequency (<span class="math notranslate nohighlight">\(\mathrm{Tfidf}\)</span>). Both of these methods measure how important a term is within a document relative to a collection of documents by using vectorization to transform words into numbers.</p>
<p><strong>Term Frequency</strong> (<span class="math notranslate nohighlight">\(\mathrm{tf}\)</span>): the number of times the word appears in a document compared to the total number of words in the document.</p>
<div class="math notranslate nohighlight">
\[\mathrm{tf}=\frac{\mathrm{number \; of \; times \; the \; term \; appears \; in \; the \; document}}{\mathrm{total \; number \; of \; terms \; in \; the \; document}}\]</div>
<p><strong>Inverse Document Frequency</strong> (<span class="math notranslate nohighlight">\(\mathrm{idf}\)</span>): reflects the proportion of documents in the collection of documents that contain the term. Words unique to a small percentage of documents (e.g., technical jargon terms) receive higher importance values than words common across all documents (e.g., a, the, and).</p>
<div class="math notranslate nohighlight">
\[\mathrm{idf}=\frac{\log(\mathrm{number \; of \; the \; documents \; in \; the \; collection})}{\log(\mathrm{number \; of \; documents \; in \; the \; collection \; containing \; the \; term})}\]</div>
<p>Thus the overall term-frequency inverse document frequency can be calculated by multiplying the term-frequency and the inverse document frequency:</p>
<div class="math notranslate nohighlight">
\[\mathrm{Tfidf}=\mathrm{Tf} * \mathrm{idf}\]</div>
<p><span class="math notranslate nohighlight">\(\mathrm{Tfidf}\)</span> aims to add more discriminability to frequency as a word relevance metric by downweighting words that appear in many documents since these common words are less discriminative. In other words, the importance of a term is high when it occurs a lot in a given document and rarely in others.</p>
<p>If you are interested in learning more about the mathematical equations used to develop these two methods, please refer to the additional details in the “Further Reading” section for this day.</p>
<p>Let’s run both of these methods and store the vectorized data in a dictionary:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vectypes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;counts&quot;</span><span class="p">,</span> <span class="s2">&quot;Tfidf&quot;</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">vectorize</span><span class="p">(</span><span class="n">doc_data</span><span class="p">,</span> <span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">remove_words</span><span class="o">=</span><span class="p">[],</span> <span class="n">min_doc_freq</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">vectorized_data_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">vectorizer_type</span> <span class="ow">in</span> <span class="n">vectypes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">vectorizer_type</span> <span class="o">==</span> <span class="s2">&quot;counts&quot;</span><span class="p">:</span>
            <span class="n">vectorizer</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">(</span>
                <span class="n">stop_words</span><span class="o">=</span><span class="n">remove_words</span><span class="p">,</span> <span class="n">min_df</span><span class="o">=</span><span class="n">min_doc_freq</span><span class="p">,</span> <span class="n">ngram_range</span><span class="o">=</span><span class="n">ngram_range</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">vectorizer_type</span> <span class="o">==</span> <span class="s2">&quot;Tfidf&quot;</span><span class="p">:</span>
            <span class="n">vectorizer</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">(</span>
                <span class="n">stop_words</span><span class="o">=</span><span class="n">remove_words</span><span class="p">,</span> <span class="n">min_df</span><span class="o">=</span><span class="n">min_doc_freq</span><span class="p">,</span> <span class="n">ngram_range</span><span class="o">=</span><span class="n">ngram_range</span>
            <span class="p">)</span>

        <span class="n">vectorized_doc_list</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">todense</span><span class="p">()</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">feature_names</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">vectorizer</span><span class="o">.</span><span class="n">get_feature_names_out</span><span class="p">()</span>
        <span class="p">)</span>  <span class="c1"># or  get_feature_names() depending on scikit learn version</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;vocabulary size:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">feature_names</span><span class="p">)))</span>
        <span class="n">wdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">vectorized_doc_list</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">feature_names</span><span class="p">)</span>
        <span class="n">vectorized_data_dict</span><span class="p">[</span><span class="n">vectorizer_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">wdf</span>
    <span class="k">return</span> <span class="n">vectorized_data_dict</span><span class="p">,</span> <span class="n">feature_names</span>


<span class="k">def</span> <span class="nf">plot_wordcloud_and_freqdist</span><span class="p">(</span><span class="n">wdf</span><span class="p">,</span> <span class="n">title_str</span><span class="p">,</span> <span class="n">feature_names</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Plots a word cloud</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pixel_size</span> <span class="o">=</span> <span class="mi">600</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ogrid</span><span class="p">[:</span><span class="n">pixel_size</span><span class="p">,</span> <span class="p">:</span><span class="n">pixel_size</span><span class="p">]</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">pixel_size</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">pixel_size</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">&gt;</span> <span class="p">(</span>
        <span class="n">pixel_size</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">20</span>
    <span class="p">)</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="mi">255</span> <span class="o">*</span> <span class="n">mask</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">wc</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span>
        <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;rgba(255, 255, 255, 0)&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;RGBA&quot;</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">max_words</span><span class="o">=</span><span class="mi">50</span>
    <span class="p">)</span>  <span class="c1"># ,relative_scaling=1)</span>
    <span class="n">wordfreqs</span> <span class="o">=</span> <span class="n">wdf</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">num_show</span> <span class="o">=</span> <span class="mi">50</span>
    <span class="n">sorted_ids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">wordfreqs</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="n">num_show</span><span class="p">),</span> <span class="n">height</span><span class="o">=</span><span class="n">wordfreqs</span><span class="p">[</span><span class="n">sorted_ids</span><span class="p">][:</span><span class="n">num_show</span><span class="p">])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">num_show</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span>
        <span class="n">feature_names</span><span class="p">[</span><span class="n">sorted_ids</span><span class="p">][:</span><span class="n">num_show</span><span class="p">],</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;right&quot;</span>
    <span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;total frequency&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title_str</span> <span class="o">+</span> <span class="s2">&quot; vectorizer&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">wordfreqs</span><span class="p">[</span><span class="n">sorted_ids</span><span class="p">][</span><span class="nb">int</span><span class="p">(</span><span class="n">num_show</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)])</span>

    <span class="n">ax_wc</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">inset_axes</span><span class="p">([</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
    <span class="n">wc</span><span class="o">.</span><span class="n">generate_from_frequencies</span><span class="p">(</span><span class="n">wordfreqs</span><span class="p">)</span>
    <span class="n">ax_wc</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wc</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s2">&quot;bilinear&quot;</span><span class="p">)</span>
    <span class="n">ax_wc</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>


<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span>
    <span class="s2">&quot;stopwords&quot;</span>
<span class="p">)</span>  <span class="c1"># downloads basic stop words, i.e. words with little semantic value  (e.g. &quot;the&quot;), to be used as words to be removed</span>
<span class="n">remove_words</span> <span class="o">=</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s2">&quot;english&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[nltk_data] Downloading package stopwords to /home/wesley/nltk_data...
[nltk_data]   Package stopwords is already up-to-date!
</pre></div>
</div>
</div>
</div>
<p>We can now vectorize and look at the wordclouds for single word statistics. Let’s explicitly exclude some words and implicity exclude ones that appear in fewer than some threshold number of tweets.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">selected_tweets</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span>
<span class="p">)</span>  <span class="c1"># reduce size since the vectorization computation transforms the corpus into an array of large size (vocabulary size x number of tweets)</span>
<span class="c1"># let&#39;s add some more words that we don&#39;t want to track (you can generate this kind of list iteratively by looking at the results and adding to this list):</span>
<span class="n">remove_words</span> <span class="o">+=</span> <span class="p">[</span>
    <span class="s2">&quot;cop26&quot;</span><span class="p">,</span>
    <span class="s2">&quot;http&quot;</span><span class="p">,</span>
    <span class="s2">&quot;https&quot;</span><span class="p">,</span>
    <span class="s2">&quot;30&quot;</span><span class="p">,</span>
    <span class="s2">&quot;000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;je&quot;</span><span class="p">,</span>
    <span class="s2">&quot;rt&quot;</span><span class="p">,</span>
    <span class="s2">&quot;climate&quot;</span><span class="p">,</span>
    <span class="s2">&quot;limacop20&quot;</span><span class="p">,</span>
    <span class="s2">&quot;un_climatetalks&quot;</span><span class="p">,</span>
    <span class="s2">&quot;climatechange&quot;</span><span class="p">,</span>
    <span class="s2">&quot;via&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ht&quot;</span><span class="p">,</span>
    <span class="s2">&quot;talks&quot;</span><span class="p">,</span>
    <span class="s2">&quot;unfccc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;peru&quot;</span><span class="p">,</span>
    <span class="s2">&quot;peruvian&quot;</span><span class="p">,</span>
    <span class="s2">&quot;lima&quot;</span><span class="p">,</span>
    <span class="s2">&quot;co&quot;</span><span class="p">,</span>
<span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; tweets&quot;</span><span class="p">)</span>
<span class="n">min_doc_freq</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5970 tweets
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ngram_range</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># start and end number of words</span>
<span class="n">vectorized_data_dict</span><span class="p">,</span> <span class="n">feature_names</span> <span class="o">=</span> <span class="n">vectorize</span><span class="p">(</span>
    <span class="n">selected_tweets</span><span class="p">,</span>
    <span class="n">ngram_range</span><span class="o">=</span><span class="n">ngram_range</span><span class="p">,</span>
    <span class="n">remove_words</span><span class="o">=</span><span class="n">remove_words</span><span class="p">,</span>
    <span class="n">min_doc_freq</span><span class="o">=</span><span class="n">min_doc_freq</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">vectorizer_type</span> <span class="ow">in</span> <span class="n">vectypes</span><span class="p">:</span>
    <span class="n">plot_wordcloud_and_freqdist</span><span class="p">(</span>
        <span class="n">vectorized_data_dict</span><span class="p">[</span><span class="n">vectorizer_type</span><span class="p">],</span> <span class="n">vectorizer_type</span><span class="p">,</span> <span class="n">feature_names</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>vocabulary size:1772
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>vocabulary size:1772
</pre></div>
</div>
<img alt="../../../_images/W2D3_Tutorial4_82_2.png" src="../../../_images/W2D3_Tutorial4_82_2.png" />
<img alt="../../../_images/W2D3_Tutorial4_82_3.png" src="../../../_images/W2D3_Tutorial4_82_3.png" />
</div>
</div>
<p>Note in the histograms how the <span class="math notranslate nohighlight">\(\mathrm{Tfidf}\)</span> vectorizer has scaled down the hypocrisy words such that they are less prevalent relative to the count vectorizer.</p>
<p>There are some words here (e.g. <code class="docutils literal notranslate"><span class="pre">private</span></code> and <code class="docutils literal notranslate"><span class="pre">jet</span></code>) that look like they likely would appear in pairs. Let’s tell the vectorizer to also look for high frequency <em>pairs</em> of words.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ngram_range</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># start and end number of words</span>
<span class="n">vectorized_data_dict</span><span class="p">,</span> <span class="n">feature_names</span> <span class="o">=</span> <span class="n">vectorize</span><span class="p">(</span>
    <span class="n">selected_tweets</span><span class="p">,</span>
    <span class="n">ngram_range</span><span class="o">=</span><span class="n">ngram_range</span><span class="p">,</span>
    <span class="n">remove_words</span><span class="o">=</span><span class="n">remove_words</span><span class="p">,</span>
    <span class="n">min_doc_freq</span><span class="o">=</span><span class="n">min_doc_freq</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">vectorizer_type</span> <span class="ow">in</span> <span class="n">vectypes</span><span class="p">:</span>
    <span class="n">plot_wordcloud_and_freqdist</span><span class="p">(</span>
        <span class="n">vectorized_data_dict</span><span class="p">[</span><span class="n">vectorizer_type</span><span class="p">],</span> <span class="n">vectorizer_type</span><span class="p">,</span> <span class="n">feature_names</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>vocabulary size:3481
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>vocabulary size:3481
</pre></div>
</div>
<img alt="../../../_images/W2D3_Tutorial4_84_2.png" src="../../../_images/W2D3_Tutorial4_84_2.png" />
<img alt="../../../_images/W2D3_Tutorial4_84_3.png" src="../../../_images/W2D3_Tutorial4_84_3.png" />
</div>
</div>
<p>The hypocrisy words take up so much frequency that it is hard to see what the remaining words are. To clear this list a bit more, let’s also remove the hypocrisy words altogether.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">remove_words</span> <span class="o">+=</span> <span class="n">selected_words</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ngram_range</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># start and end number of words</span>
<span class="n">vectorized_data_dict</span><span class="p">,</span> <span class="n">feature_names</span> <span class="o">=</span> <span class="n">vectorize</span><span class="p">(</span>
    <span class="n">selected_tweets</span><span class="p">,</span>
    <span class="n">ngram_range</span><span class="o">=</span><span class="n">ngram_range</span><span class="p">,</span>
    <span class="n">remove_words</span><span class="o">=</span><span class="n">remove_words</span><span class="p">,</span>
    <span class="n">min_doc_freq</span><span class="o">=</span><span class="n">min_doc_freq</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">vectorizer_type</span> <span class="ow">in</span> <span class="n">vectypes</span><span class="p">:</span>
    <span class="n">plot_wordcloud_and_freqdist</span><span class="p">(</span>
        <span class="n">vectorized_data_dict</span><span class="p">[</span><span class="n">vectorizer_type</span><span class="p">],</span> <span class="n">vectorizer_type</span><span class="p">,</span> <span class="n">feature_names</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/wesley/miniconda3/envs/climatematch/lib/python3.10/site-packages/sklearn/feature_extraction/text.py:409: UserWarning: Your stop_words may be inconsistent with your preprocessing. Tokenizing the stop words generated tokens [&#39;green&#39;, &#39;wash&#39;] not in stop_words.
  warnings.warn(
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>vocabulary size:3279
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/wesley/miniconda3/envs/climatematch/lib/python3.10/site-packages/sklearn/feature_extraction/text.py:409: UserWarning: Your stop_words may be inconsistent with your preprocessing. Tokenizing the stop words generated tokens [&#39;green&#39;, &#39;wash&#39;] not in stop_words.
  warnings.warn(
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>vocabulary size:3279
</pre></div>
</div>
<img alt="../../../_images/W2D3_Tutorial4_87_4.png" src="../../../_images/W2D3_Tutorial4_87_4.png" />
<img alt="../../../_images/W2D3_Tutorial4_87_5.png" src="../../../_images/W2D3_Tutorial4_87_5.png" />
</div>
</div>
<p>Observe that terms we might have expected are associated with hypocrisy, e.g. “flying” are still present. Even when allowing for pairs, the semantics are hard to extract from this analysis that ignores the correlations in usage among multiple words.</p>
<p>To futher assess statistics, one approach is use a generative model with latent structure.</p>
<p>Topic models (the <a class="reference external" href="https://www.structuraltopicmodel.com/">structural topic model</a> in particular) are a nice modelling framework to start analyzing those correlations.</p>
<p>For a modern introduction to text analysis in the social sciences, I recommend the textbook:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Text as Data: A New Framework for Machine Learning and the Social Sciences (2022) by Justin Grimmer, Margaret E. Roberts, and Brandon M. Stewart
</pre></div>
</div>
</div>
<div class="section" id="summary">
<h1>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">#</a></h1>
<p>In this tutorial, you’ve learned how to analyze large amounts of text data from social media to understand public sentiment about climate change. You’ve been introduced to the process of loading and examining Twitter data, specifically relating to the COP climate change conferences. You’ve also gained insights into identifying and analyzing sentiments associated with specific words, with a focus on those indicating ‘hypocrisy’.</p>
<p>We used techniques to normalize sentiment scores and to compare sentiment among different categories of tweets. You have also learned about text vectorization methods, term-frequency (tf) and term-frequency inverse document frequency (tfidf), and their applications in word usage analysis. This tutorial provided you a valuable stepping stone to further delve into text analysis, which could help deeper our understanding of public sentiment on climate change. Such analysis helps us track how global perceptions and narratives about climate change evolve over time, which is crucial for policy planning and climate communication strategies.</p>
<p>This tutorial therefore not only provided you with valuable tools for text analysis but also demonstrated their potential in contributing to our understanding of climate change perceptions, a key factor in driving climate action.</p>
</div>
<div class="section" id="resources">
<h1>Resources<a class="headerlink" href="#resources" title="Permalink to this headline">#</a></h1>
<p>The data for this tutorial can be accessed from <a class="reference external" href="https://www.nature.com/articles/s41558-022-01527-x">Falkenberg et al. <em>Nature Clim. Chg.</em> 2022</a>.</p>
</div>


<script type="application/vnd.jupyter.widget-state+json">
{"state": {"7e7581a836a34c0b84c7226c0cf9e22c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "02b42136346d4af5ae4b77021589dbed": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_7e7581a836a34c0b84c7226c0cf9e22c", "msg_id": "", "outputs": [{"output_type": "stream", "name": "stdout", "text": "Video available at https://youtube.com/watch?v=n8G1dnZRbTY\n"}, {"output_type": "display_data", "metadata": {}, "data": {"text/plain": "<IPython.lib.display.YouTubeVideo at 0x7f5c8b7ac940>", "text/html": "\n        <iframe\n            width=\"730\"\n            height=\"410\"\n            src=\"https://www.youtube.com/embed/n8G1dnZRbTY?fs=1&rel=0\"\n            frameborder=\"0\"\n            allowfullscreen\n            \n        ></iframe>\n        ", "image/jpeg": "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"}}], "tabbable": null, "tooltip": null}}, "6c61a063d1084f5ea4de63b87675d62b": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "3f350cb5d3754bc0b4244a6425ccb061": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_6c61a063d1084f5ea4de63b87675d62b", "msg_id": "", "outputs": [{"output_type": "stream", "name": "stdout", "text": "Video available at https://www.bilibili.com/video/BV14N411U7k1\n"}, {"output_type": "display_data", "metadata": {}, "data": {"text/plain": "<__main__.PlayVideo at 0x7f5c8b7ac9d0>", "text/html": "\n        <iframe\n            width=\"730\"\n            height=\"410\"\n            src=\"https://player.bilibili.com/player.html?bvid=BV14N411U7k1&page=1?fs=1&autoplay=False\"\n            frameborder=\"0\"\n            allowfullscreen\n            \n        ></iframe>\n        "}}], "tabbable": null, "tooltip": null}}, "2da9e9a305664e1dbff5370e83a06d4c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "fb2aaafc2527492fa29e470eea4af51a": {"model_name": "TabModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "TabModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "TabView", "box_style": "", "children": ["IPY_MODEL_02b42136346d4af5ae4b77021589dbed", "IPY_MODEL_3f350cb5d3754bc0b4244a6425ccb061"], "layout": "IPY_MODEL_2da9e9a305664e1dbff5370e83a06d4c", "selected_index": 0, "tabbable": null, "titles": ["Youtube", "Bilibili"], "tooltip": null}}, "11b395bbc34c4512bad46d030007e692": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "4186611da6af4f7b94614d227ac97331": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_11b395bbc34c4512bad46d030007e692", "msg_id": "", "outputs": [{"output_type": "stream", "name": "stdout", "text": "If you want to download the slides: https://osf.io/download/cqf2x/\n"}, {"output_type": "display_data", "metadata": {}, "data": {"text/plain": "<IPython.lib.display.IFrame at 0x7f5c8b7add80>", "text/html": "\n        <iframe\n            width=\"730\"\n            height=\"410\"\n            src=\"https://mfr.ca-1.osf.io/render?url=https://osf.io/cqf2x/?direct%26mode=render%26action=download%26mode=render\"\n            frameborder=\"0\"\n            allowfullscreen\n            \n        ></iframe>\n        "}}], "tabbable": null, "tooltip": null}}}, "version_major": 2, "version_minor": 0}
</script>


    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./tutorials/W2D3_FutureClimate-IPCCII&IIISocio-EconomicBasis/student"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="W2D3_Tutorial3.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><strong>Tutorial 3: IAMs and SSPs</strong></p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="W2D3_Outro.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Outro</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Climatematch<br/>
  
    <div class="extra_footer">
      <div>
<a href="http://creativecommons.org/licenses/by/4.0/"><img src="https://i.creativecommons.org/l/by/4.0/88x31.png"></a>
<a href="https://opensource.org/licenses/BSD-3-Clause"><img src="https://camo.githubusercontent.com/9b9ea65d95c9ef878afa1987df65731d47681336/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f736561626f726e2e737667"></a>
The contents of this repository are shared under the <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
Software elements are additionally licensed under the <a href="https://opensource.org/licenses/BSD-3-Clause">BSD (3-Clause) License</a>.
</div>

    </div>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>